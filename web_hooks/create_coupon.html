<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="Create Coupon Webhook enables automatic coupon creation. That means you are no longer need to upload coupon lists into the Talkable platform manually." name="description" />

    <title>Create Coupon Webhook &#8212; Talkable Documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/talkable.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://docs.talkable.com/web_hooks/create_coupon.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Referral Webhook" href="referral.html" />
    <link rel="prev" title="Webhooks" href="../web_hooks.html" /><link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../_static/pygments-github.css" rel="stylesheet">
  <link href="../_static/img/favicon.ico" rel="shortcut icon" />
  </head><body>
  
    <div class="header">
      <a href="../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced_features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/demandware.html">Salesforce Commerce Cloud Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/loyalty.html">Loyalty Integration (beta)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_v2.html">API Reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../web_hooks.html">Webhooks</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create Coupons</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="referral.html">Referral</a></li>
<li class="toctree-l2"><a class="reference internal" href="reward.html">Reward</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_share.html">Post Share</a></li>
<li class="toctree-l2"><a class="reference internal" href="offer_signup.html">Advocate Signup</a></li>
<li class="toctree-l2"><a class="reference internal" href="claim_signup.html">Friend Email Gating</a></li>
<li class="toctree-l2"><a class="reference internal" href="unsubscribe.html">Unsubscribe</a></li>
<li class="toctree-l2"><a class="reference internal" href="check_unsubscribe.html">Check Unsubscribe</a></li>
<li class="toctree-l2"><a class="reference internal" href="event.html">Event</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="web-hooks-create-coupon"></span><section id="create-coupon-webhook">
<h1>Create Coupon Webhook<a class="headerlink" href="#create-coupon-webhook" title="Permalink to this headline">¶</a></h1>
<p>Talkable Create Coupon Webhook enables automatic coupon creation, which
eliminates the need to upload coupon lists into the Talkable platform manually.
Talkable creates unique coupon codes then passes those codes via the Create
Coupon Webhook to the client; it is then up to the client to enable these coupons
on their platform.</p>
<h2>When does Talkable call the Create Coupon Webhook?</h2><p>Create Coupon Webhook is called when the quantity of available coupons drops
below a Talkable threshold.</p>
<p>This threshold is dynamically calculated based on the number of coupon codes
used by the client site in the last 21 days. The threshold ensures the Talkable
coupon lists will always hold enough available coupons to serve the site for 21
days, even if the integration were to break. The minimum threshold is 20 coupons.</p>
<p>When the number of coupons available to Talkable drops below the threshold,
Talkable will call the Create Coupon Webhook with a payload of 15 new coupons in
the background. If a user needs a coupon code, but there are no coupon codes
available, Talkable will generate one in the foreground and give it to the user
that requested it. In both cases, coupons are sent to the client endpoint as a
webhook and then inserted into the Talkable database only when a webhook returns
a successful response.</p>
<h2>Set Up</h2><p>The Create Coupon Webhook will add coupons to a specific coupon list on Talkable’s
backend. These coupon lists must be set up in the Talkable campaign editor before
utilizing the Create Coupon Webhook. Follow the below instructions to set up a
coupon list for a campaign:</p>
<ol class="arabic simple">
<li><p>Navigate to <strong>Campaigns</strong> then select the campaign you would like to set up
coupon list(s) for</p></li>
<li><p>Proceed to <strong>Rules</strong> then scroll down to <strong>Incentives</strong> section where
incentives for both Advocate and Friend can be configured</p></li>
</ol>
<img alt="Edit Referral Incentives" class="is-minimal" src="../_images/advocate_referral_incentive.png" />
<ol class="arabic simple" start="3">
<li><p>Inside the Referral Incentive Editor choose the <strong>Coupon code type: Single-use</strong>
then select an existing Coupon list or create a new coupon list by clicking
<strong>Manage Coupon Lists</strong>.</p></li>
<li><p>Here you’ll be able to <strong>Create New</strong> and configure a Name, Expiration Date
(optional), and Amount ($ or %)</p></li>
<li><p>Now go back to <strong>Rules</strong> → <strong>Incentives</strong> → <strong>Edit</strong> and select the
<strong>Reward Amount</strong> associated with the list created in step 4 and select the
newly created list</p></li>
<li><p>Optionally, select <strong>Advanced Settings</strong> for additional configuration parameters</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Coupons created by the <strong>Create Coupon Webhook</strong> will be added to the coupon
list associated with the referral campaign. Multiple referral campaigns can
use the same or unique coupon lists. <strong>Advocate</strong> and <strong>Friend</strong> referral
incentives can also use the same or unique coupon lists.</p>
</div>
<p>Once a single-use coupon code list is associated with a campaign, then the
Create Coupon Webhook can now be set up.
<a class="reference internal" href="../web_hooks.html#web-hooks"><span class="std std-ref">Learn more about General Webhook Set Up Steps</span></a></p>
<h2>Payload parameters provided by Create Coupon Webhook</h2><ul class="simple">
<li><p><strong>coupon_code</strong> — coupon code</p></li>
<li><p><strong>discount_amount</strong> — discount amount</p></li>
<li><p><strong>percentage_discount</strong> — when <code class="docutils literal notranslate"><span class="pre">true</span></code> percentage discount should be created,
otherwise fixed discount</p></li>
<li><p><strong>expires_at</strong> — coupon expiration date</p></li>
<li><p><strong>usage_limit</strong> — number of usages for the coupon</p></li>
<li><p><strong>coupon_list_id</strong> — ID of the coupon list that needs to be filled</p></li>
<li><p><strong>coupon_list_name</strong> — name of the coupon list that needs to be filled</p></li>
</ul>
<h2>Sample payload</h2><div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;coupon_code&quot;</span><span class="o">:</span> <span class="s2">&quot;WHT58574&quot;</span><span class="p">,</span>
  <span class="s2">&quot;discount_amount&quot;</span><span class="o">:</span> <span class="mf">10</span><span class="p">,</span>
  <span class="s2">&quot;percentage_discount&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;usage_limit&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
  <span class="s2">&quot;expires_at&quot;</span><span class="o">:</span> <span class="s2">&quot;2014-04-14T06:17:14.309-07:00&quot;</span><span class="p">,</span>
  <span class="s2">&quot;coupon_list_id&quot;</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span>
  <span class="s2">&quot;coupon_list_name&quot;</span><span class="o">:</span> <span class="s2">&quot;$10 off&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<h2>cURL example</h2><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl --data <span class="s1">&#39;key=&lt;key&gt;&amp;site=&lt;site&gt;&amp;type=create_coupon_web_hook&amp;payload={&quot;coupon_code&quot;:&quot;WHT58574&quot;,&quot;discount_amount&quot;:10,&quot;percentage_discount&quot;:false,&quot;usage_limit&quot;:1,&quot;expires_at&quot;:&quot;2014-04-14T06:17:14.309-07:00&quot;,&quot;coupon_list_id&quot;:1,&quot;coupon_list_name&quot;:&quot;$10 off&quot;}&#39;</span> &lt;url&gt;
</pre></div>
</div>
<div class="hidden docutils container">
<div class="toctree-wrapper compound">
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>