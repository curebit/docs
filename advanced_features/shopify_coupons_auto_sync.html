<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="Talkable supports coupon auto-sync for Shopify. This feature allows to avoid manual coupon uploads and/or Shopify Price Rule management." name="description" />

    <title>Shopify coupon auto-sync &#8212; Talkable Documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/talkable.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://docs.talkable.com/advanced_features/shopify_coupons_auto_sync.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Referral Tracking Methods" href="track_methods.html" />
    <link rel="prev" title="Automatic Coupon Creation" href="coupons.html" /><link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../_static/pygments-github.css" rel="stylesheet">
  <link href="../_static/img/favicon.ico" rel="shortcut icon" />
  </head><body>
  
    <div class="header">
      <a href="../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../advanced_features.html">Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="coupons.html">Automatic Coupon Creation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Shopify coupon auto-sync</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-started">Get started</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-features">Advanced features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="track_methods.html">Referral Tracking Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="personal_coupon_sharing.html">Advocate Personal Coupon Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="converting_into_localization.html">Converting Into Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer_service_portal.html">Customer Service Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="params_encryption.html">Params Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html">Integrating Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_encryption.html">File Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="product_items.html">Including Product Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="passing_custom_data.html">Pass Custom User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="referrals_approval.html">Referrals Approval</a></li>
<li class="toctree-l2"><a class="reference internal" href="product_sku.html">Segment With Product SKU</a></li>
<li class="toctree-l2"><a class="reference internal" href="traffic_source.html">Segment With Traffic Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="subscribing_to_events.html">Subscribing To Iframe Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="reg_ex.html">Setting up Campaign Placement criteria</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_parameters.html">Using URL Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="white_labeling.html">White-labeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_sign_on.html">Single Sign-On (SSO)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/demandware.html">Salesforce Commerce Cloud Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/loyalty.html">Loyalty Integration (beta)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web_hooks.html">Webhooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="advanced-features-shopify-coupons-auto-sync"></span><section id="shopify-coupon-auto-sync">
<h1>Shopify coupon auto-sync<a class="headerlink" href="#shopify-coupon-auto-sync" title="Permalink to this headline">¶</a></h1>
<p>Talkable supports coupon auto-sync for Shopify. This feature allows the automation of code creation and management of Shopify Price Rules, rather than manual code creation and upload to the Talkable Platform.</p>
<section id="get-started">
<h2>Get started<a class="headerlink" href="#get-started" title="Permalink to this headline">¶</a></h2>
<p>Before using coupon auto-sync, you’ll need to install the Talkable Shopify app (Settings → Shopify Integration → Authorize).</p>
<p>To enable coupon auto-sync in a coupon list, go to the coupon list edit/create page (All reports → Coupon lists) and check “Enable Coupon List Shopify Auto Sync”. If this checkbox is disabled (you are unable to check/uncheck), it means this site already uses the <a class="reference internal" href="../web_hooks/create_coupon.html#web-hooks-create-coupon"><span class="std std-ref">Coupon Webhook</span></a> and will be created automatically — no coupons can be directly uploaded to Shopify. Instead, coupons are delivered to Coupon Webhook URL, and should be handled from there. If you’d like to turn on/off Shopify auto-sync, you’ll need to first disable the Coupon Webhook.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Talkable uses a Shopify Price Rule ID (if present) to determine where to upload newly generated coupons. It is recommended to leave it blank when creating coupon lists. If blank, Talkable will create a Price Rule based on coupon list configuration and store its ID in the coupon list. Please see <strong>Advanced features</strong> for more information about Shopify Price Rule ID.</p>
</div>
<section id="what-is-price-rule">
<h3>What is Price Rule?<a class="headerlink" href="#what-is-price-rule" title="Permalink to this headline">¶</a></h3>
<p>A price rule is the closest thing to Talkable coupon lists in Shopify. It defines the properties and applicability of associated coupon codes. You can read more on the Shopify site <a class="reference external" rel="nofollow" href="https://shopify.dev/docs/admin-api/rest/reference/discounts/pricerule">here</a>.</p>
</section>
<section id="what-attributes-will-the-auto-generated-price-rule-have">
<h3>What attributes will the auto-generated Price Rule have?<a class="headerlink" href="#what-attributes-will-the-auto-generated-price-rule-have" title="Permalink to this headline">¶</a></h3>
<p>Talkable applies the below coupon list settings onto Price Rule:</p>
<div class="ptable docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 37%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Coupon list attribute</p></th>
<th class="head"><p>Price rule attribute (as in API)</p></th>
<th class="head"><p>Price rule attribute (as in interface)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Amount</strong></p></td>
<td><p><cite>value</cite></p></td>
<td><p>Value</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Discount type</strong></p></td>
<td><p><cite>value_type</cite></p></td>
<td><p>Type</p></td>
</tr>
<tr class="row-even"><td><p><strong>Expiration date</strong></p></td>
<td><p><cite>ends_at</cite></p></td>
<td><p>End date</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Minimum subtotal</strong></p></td>
<td><p><cite>prerequisite_subtotal_range</cite></p></td>
<td><p>Minimum purchase amount</p></td>
</tr>
</tbody>
</table>
</div>
<p>Some other Price Rule attributes that we set when generating Price Rule:</p>
<div class="ptable docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 25%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Price Rule attribute</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Attribute effect</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>title</cite></p></td>
<td><p>e.g. “Talkable
single-use coupons $10”</p></td>
<td><p>Describes Price Rule.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>target_type</cite></p></td>
<td><p><cite>line_item</cite></p></td>
<td><p>The price rule applies to the cart’s line
items.</p></td>
</tr>
<tr class="row-even"><td><p><cite>target_selection</cite></p></td>
<td><p><cite>all</cite></p></td>
<td><p>The price rule applies the discount to all
line items in the checkout.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>allocation_method</cite></p></td>
<td><p><cite>across</cite></p></td>
<td><p>The calculated discount amount will be
applied across the entitled items.
For example, for a price rule that takes
$15 off, the discount will be applied across
all the entitled items.</p></td>
</tr>
<tr class="row-even"><td><p><cite>usage_limit</cite></p></td>
<td><p><cite>1</cite></p></td>
<td><p>Each discount code can be used exactly once.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>customer_selection</cite></p></td>
<td><p><cite>all</cite></p></td>
<td><p>The price rule is valid for all customers.</p></td>
</tr>
<tr class="row-even"><td><p><cite>starts_at</cite></p></td>
<td><p>Time of coupon list
creation</p></td>
<td><p>The date and time when the price rule starts.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="why-aren-t-there-any-coupons-created-for-my-auto-synced-list">
<h3>Why aren’t there any coupons created for my auto-synced list?<a class="headerlink" href="#why-aren-t-there-any-coupons-created-for-my-auto-synced-list" title="Permalink to this headline">¶</a></h3>
<p>Auto-sync generates and uploads coupons when there is demand for them. That means that nothing will happen until the first reward is requested from a specific coupon list. When this happens, Talkable will generate a code and sync it with Shopify, while scheduling a refill task that will generate a set of codes in advance. This logic is triggered every time a coupon is issued, so there  will always be some coupons available for future rewards.</p>
</section>
</section>
<section id="advanced-features">
<h2>Advanced features<a class="headerlink" href="#advanced-features" title="Permalink to this headline">¶</a></h2>
<section id="shopify-price-rule-id">
<h3>Shopify Price Rule ID<a class="headerlink" href="#shopify-price-rule-id" title="Permalink to this headline">¶</a></h3>
<p>Talkable allows you to assign a custom Price Rule ID to a coupon list. This might be helpful if you want to deviate from our default Price Rule settings, e.g. restrict codes to a group of customers or group of products.</p>
<p>It is recommended to create a new Price Rule in Shopify if there is a need to use a custom one, instead of editing the Price Rule generated by Talkable.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Talkable validates the Price Rule attached to a coupon list. There are certain Price Rule attributes that must match the coupon list configuration.
These include:</p>
<p><cite>value</cite> - must correspond to coupon list amount</p>
<p><cite>value_type</cite> - must correspond to coupon list type</p>
<p><cite>ends_at</cite> - must be greater than or equal to coupon list expiration (and absent if coupon list has no expiration)</p>
<p><cite>prerequisite_subtotal_range</cite> - must match coupon list minimum subtotal</p>
</div>
<p>If the Price Rule passes validation, it can be attached to a coupon list and will be used as a new destination for all the coupons created from that moment on.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All previously generated coupons will retain the attributes of the Price Rule that was used at the point at which they were created (auto-synced).</p>
</div>
</section>
<section id="shopify-price-rule-changed-email-notification">
<h3>Shopify Price Rule Changed Email Notification<a class="headerlink" href="#shopify-price-rule-changed-email-notification" title="Permalink to this headline">¶</a></h3>
<p>If you modify a Price Rules on Shopify, it could make them incompatible with the coupon lists they are attached to. In order to find out about such changes as early as possible, we have a daily monitoring job that checks that Price Rules have no critical differences from respective coupon lists.</p>
<p>Attributes that are checked in this job are the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>usage_limit</cite> - must always be 1</p></li>
<li><p><cite>value</cite> - must correspond to coupon list amount</p></li>
<li><p><cite>value_type</cite> - must correspond to coupon list type</p></li>
<li><p><cite>ends_at</cite> - must be greater than or equal to coupon list expiration (and absent if coupon list has no expiration)</p></li>
<li><p><cite>prerequisite_subtotal_range</cite> - must match coupon list minimum subtotal</p></li>
</ul>
</div></blockquote>
<p>If any of these attributes differ from what they are expected to be and Talkable cannot fix that by updating a coupon list (see <strong>Coupon list sync</strong>), Talkable sends an email notification.</p>
<p>Once the Price Rule becomes critically different from the coupon list it is assigned to, the coupon list is no longer editable. Please fix the issues listed in the email notification to remedy this situation.</p>
</section>
<section id="coupon-list-sync">
<h3>Coupon list sync<a class="headerlink" href="#coupon-list-sync" title="Permalink to this headline">¶</a></h3>
<p>Talkable tries to keep up with the Price Rules assigned to coupon lists when/if Price Rules change.</p>
<p>As long as the Price Rule is otherwise valid for a coupon list, we update the coupon list’s:</p>
<p><strong>expiration date</strong> - only if Price Rule end date is further in the future (or absent)</p>
<p><strong>minimum subtotal</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are any other changes in the Price Rule that make it not suitable for a certain coupon list, we won’t sync the coupon list. In this case, a Shopify Price Rule Changed Email Notification will be delivered and action will be required to fix the issue.</p>
<p>This sync is performed daily. Do not expect an immediate change to be reflected  after a Price Rule update.</p>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>