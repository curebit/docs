<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta content="In addition to regular referral campaigns, Talkable also supports custom events that can be split into multiple categories." name="description" />

    <title>Integrating Events &#8212; Talkable Documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/talkable.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="canonical" href="https://docs.talkable.com/advanced_features/events.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="File Encryption" href="file_encryption.html" />
    <link rel="prev" title="Email Encryption" href="email_encryption.html" /><link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../_static/pygments-github.css" rel="stylesheet">
  <link href="../_static/img/favicon.ico" rel="shortcut icon" />
  </head><body>
  
    <div class="header">
      <a href="../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../advanced_features.html">Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="coupons.html">Automatic Coupon Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="track_methods.html">Referral Tracking Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="personal_coupon_sharing.html">Advocate Personal Coupon Sharing</a></li>
<li class="toctree-l2"><a class="reference internal" href="converting_into_localization.html">Converting Into Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="customer_service_portal.html">Customer Service Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_encryption.html">Email Encryption</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Integrating Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#available-properties">Available properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="file_encryption.html">File Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="product_items.html">Including Product Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="passing_custom_data.html">Pass Custom User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="referrals_approval.html">Referrals Approval</a></li>
<li class="toctree-l2"><a class="reference internal" href="product_sku.html">Segment With Product SKU</a></li>
<li class="toctree-l2"><a class="reference internal" href="traffic_source.html">Segment With Traffic Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="subscribing_to_events.html">Subscribing To Iframe Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="reg_ex.html">Setting up Campaign Placement criteria</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_parameters.html">Using URL Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="white_labeling.html">White-labeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_sign_on.html">Single Sign-On (SSO)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/demandware.html">Salesforce Commerce Cloud Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web_hooks.html">Webhooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="advanced-features-events"></span><div class="section" id="integrating-events">
<h1>Integrating Events<a class="headerlink" href="#integrating-events" title="Permalink to this headline">¶</a></h1>
<p>In addition to running a referral campaign around regular
<a class="reference internal" href="../integration/custom/integration_components.html#integration-custom-integration-components-post-purchase-script"><span class="std std-ref">purchases</span></a>,
Talkable also supports custom events that can be split into multiple categories and be used to set up advanced campaign rules.</p>
<p>An example of such integration can be a subscription-based business that also supports
one-time purchases. A referral campaign example can be: <abbr title="Person, who shares an offer with their Friend(s)">Advocate</abbr> and <abbr title="Person, who is invited to participate in Campaign by Advocate">Friend</abbr> both get
$5 off discount on one-time purchases, and $15 off when purchasing a subscription plan.</p>
<p>In this case, the subscription purchases and the one-time purchases should be
integrated as separate events under different event categories: “subscription” and
“purchase”. All events should be passed to Talkable, including recurring events.
Talkable’s backend referral engine runs each event through several checks to identify
whether the event was associated with a referral or not. With both “subscription” and
“purchase” events being passed to Talkable, we are then able to set up referral campaigns
to report on and reward these events as desired. See some examples below.</p>
<p>Subscription payments should be registered under the “subscription” event category. All such events
can be found in the Reports → Events section of your Talkable Dashboard. Here is an example:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_event&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">event</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">event_category</span><span class="o">:</span> <span class="s1">&#39;subscription&#39;</span><span class="p">,</span>
      <span class="nx">event_number</span><span class="o">:</span> <span class="s1">&#39;ev1938579813&#39;</span><span class="p">,</span>
      <span class="nx">subtotal</span><span class="o">:</span> <span class="s1">&#39;89&#39;</span><span class="p">,</span>
      <span class="nx">coupon_code</span><span class="o">:</span> <span class="s1">&#39;SAVE20&#39;</span>
    <span class="p">},</span>
    <span class="nx">customer</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;customer1@example.com&#39;</span>
    <span class="p">}</span>
  <span class="p">}]);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>One-time purchases should go under the “purchase” event category. You can find all purchases
in the Reports → Purchases section of your Talkable Dashboard. Here is an example:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_event&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">event</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">event_category</span><span class="o">:</span> <span class="s1">&#39;purchase&#39;</span><span class="p">,</span>
      <span class="nx">event_number</span><span class="o">:</span> <span class="s1">&#39;ev1938579814&#39;</span><span class="p">,</span>
      <span class="nx">subtotal</span><span class="o">:</span> <span class="s1">&#39;34.5&#39;</span><span class="p">,</span>
      <span class="nx">coupon_code</span><span class="o">:</span> <span class="kc">null</span>
    <span class="p">},</span>
    <span class="nx">customer</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;customer2@example.com&#39;</span>
    <span class="p">}</span>
  <span class="p">}]);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All recurring subscription purchases should be passed to Talkable as well, to ensure
data integrity. If recurring transactions occur on the backend, follow the
<br>
<a class="reference internal" href="../api_v2/origins.html#api-v2-origins"><span class="std std-ref">Origin API</span></a> (see “Create an event” section).</p>
</div>
<div class="section" id="available-properties">
<span id="advanced-features-events-available-properties"></span><h2>Available properties<a class="headerlink" href="#available-properties" title="Permalink to this headline">¶</a></h2>
<p>Here is a list of available properties each event can include:</p>
<div class="ptable docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>event</strong></p></td>
<td><p>An event data:</p>
<ul class="simple">
<li><p><strong>event_category</strong> (required) – a category under which the event should be
tracked. Only alpha-numeric characters and underscores are
allowed. Minimum length – 5 characters. <br>
Example: <code class="docutils literal notranslate"><span class="pre">'subscription'</span></code>.</p></li>
<li><p><strong>event_number</strong> (required) – any alpha-numeric characters. Each event
should have a unique event number, duplicate events will not be
saved. <br>
Example: <code class="docutils literal notranslate"><span class="pre">'18934671af'</span></code>.</p></li>
<li><p><strong>subtotal</strong> (optional) – event subtotal. Any valid positive number
(including floats) or 0 are allowed. Preferably it should be passed
as a string to avoid JavaScript issues with rounding floats. <br>
Example: <code class="docutils literal notranslate"><span class="pre">'198.5'</span></code>.</p></li>
<li><p><strong>coupon_code</strong> (optional) – a coupon code that was applied to
this event. <br>
Example: <code class="docutils literal notranslate"><span class="pre">'SAVE20'</span></code>. You can also pass multiple coupons as
an array: <code class="docutils literal notranslate"><span class="pre">['SAVE20',</span> <span class="pre">'SAVE5']</span></code> if they were stacked.</p></li>
<li><p><strong>shipping_address</strong> (optional) – Shipping address in case an event is
shippable. It is used in fraud prevention. <br>
Example:
<code class="docutils literal notranslate"><span class="pre">'475</span> <span class="pre">Valencia</span> <span class="pre">St,</span> <span class="pre">2nd</span> <span class="pre">Floor,</span> <span class="pre">San</span> <span class="pre">Francisco,</span> <span class="pre">94103,</span> <span class="pre">USA'</span></code>.</p></li>
<li><p><strong>shipping_zip</strong> (optional) – Same as <strong>shipping_address</strong>. Include only
zip here. <br>
Example: <code class="docutils literal notranslate"><span class="pre">94103</span></code>.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>customer</strong></p></td>
<td><p>A person who issued an event:</p>
<ul class="simple">
<li><p><strong>email</strong>. (required) <br>
Example: <code class="docutils literal notranslate"><span class="pre">'customer&#64;example.com'</span></code>.</p></li>
<li><p><strong>first_name</strong> (optional). <br>
Example: <code class="docutils literal notranslate"><span class="pre">'John'</span></code>.</p></li>
<li><p><strong>last_name</strong> (optional) <br>
Example: <code class="docutils literal notranslate"><span class="pre">'Smith'</span></code>.</p></li>
<li><p><strong>traffic_source</strong> (optional) - specific
<a class="reference internal" href="traffic_source.html#advanced-features-traffic-source"><span class="std std-ref">Traffic Source</span></a> value
that helps to distinguish different points of integration. <br>
Example: <code class="docutils literal notranslate"><span class="pre">'facebook'</span></code>.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>campaign_tags</strong></p></td>
<td><p>Campaign tags are used to manually choose which campaign to show
once the event has been tracked successfully (optional).</p>
<p>Each Talkable campaign supports multiple tags, you can list them
as an array: <code class="docutils literal notranslate"><span class="pre">['tag1',</span> <span class="pre">'tag2']</span></code>.</p>
<p>You can control campaign tags inside Campaign Rules. Each
Talkable campaign can have different tags.</p>
<p>Alternatively, you can use
<a class="reference internal" href="../campaigns/campaign_placements.html#campaigns-campaign-placements"><span class="std std-ref">Campaign Placements</span></a>
feature to set up routing in your Talkable Dashboard instead
of controlling it through the JS integration on your end. Campaign
Placements are easy to change, no code changes are needed on your
end.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>custom_properties</strong></p></td>
<td><p>Custom key-value data that can be attached to a person
(optional). It can be used for segmentation for example: you can
code up custom criteria to show relevant campaigns to
each segment. Alternatively, custom properties can be used for an
advanced referral reward logics. Any valid JS object is allowed.
Object value should always be a string.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">key1:</span> <span class="pre">'value1',</span> <span class="pre">key2:</span> <span class="pre">'true'</span> <span class="pre">}</span></code>.
<a class="reference internal" href="passing_custom_data.html#advanced-features-passing-custom-data"><span class="std std-ref">Learn more</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>