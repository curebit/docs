<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Segment With Product SKU &mdash; Talkable Documentation</title>
    
    <link rel="stylesheet" href="../_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Talkable Documentation" href="../index.html" />
    <link rel="up" title="Advanced Features" href="../advanced_features.html" />
    <link rel="next" title="Segment With Traffic Source" href="traffic_source.html" />
    <link rel="prev" title="Referrals Approval" href="referrals_approval.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../_static/pygments-github.css" rel="stylesheet">
  <link href="../_static/img/favicon.ico" rel="shortcut icon" />
  </head>
  <body>
  
    <div class="header">
      <a href="../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../advanced_features.html">Advanced Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="coupons.html">Automatic Coupon Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="converting_into_localization.html">Converting Into Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_encryption.html">Email Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_encryption.html">File Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="product_items.html">Including Product Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="passing_custom_data.html">Pass Custom User Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="referrals_approval.html">Referrals Approval</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Segment With Product SKU</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="traffic_source.html">Segment With Traffic Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="subscribing_to_events.html">Subscribing To Iframe Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="reg_ex.html">Using Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="url_parameters.html">Using URL Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="white_labeling.html">White-labeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_sign_on.html">Single Sign-On (SSO)</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/demandware.html">Demandware Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web_hooks.html">Web Hooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="advanced-features-product-sku"></span><div class="section" id="segment-with-product-sku">
<h1>Segment With Product SKU<a class="headerlink" href="#segment-with-product-sku" title="Permalink to this headline">¶</a></h1>
<p>Sometimes there is a need to show a Campaign on Post Purchase Placement only to those customers who
purchased a particular product or a set of products. In this case you can put such a limitation inside Campaign Join Criteria.
To do that visit Campaign Details page -&gt; Go into Rules -&gt; Advanced -&gt; Campaign Join Criteria field and put the following
criteria in there:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>{% assign available_items = &quot;sku1,sku2&quot; | split: &quot;,&quot; %}
{% assign user_items = advocate_origin.products | map: &quot;product_id&quot; %}
{% assign result = false %}

{% for available_item in available_items %}
  {% for user_item in user_items %}
    {% if user_item == available_item %}
      {% assign result = true %}
      {% break %}
    {% endif %}
  {% endfor %}
{% endfor %}

{{ result }}
</pre></div>
</div>
<p>Now only those customers who purchased a product with SKU of &#8220;SKU_GOES_HERE&#8221; will see a Campaign.
The Campaign won’t show for any other product purchased.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to use this Campaign Join Criteria you need to make sure that the SKU numbers are passed
throught the integration first of all. To do that you need to go into Reports
(top header navigation) -&gt; Purchases -&gt; Click on &#8220;Details&#8221; link of any purchase and make sure there is &#8220;Product Id&#8221;
column with a valid &#8220;Product ID&#8221; value in place.
If there is no such column or it is blank you cannot use this feature unless you pass the following instructions
<a class="reference internal" href="product_items.html#advanced-features-product-items"><em>Including Product Items</em></a>.</p>
</div>
<p>Please <a href="https://www.talkable.com/contact" target="_blank">contact us</a> if you have any questions.</p>
<div class="hidden container">
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>