<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Social Sharing &#8212; Talkable Documentation</title>
    <link rel="stylesheet" href="../_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="canonical" href="https://docs.talkable.com/ios_sdk/social_sharing.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Native Integration via API" href="api_integration.html" />
    <link rel="prev" title="Custom Events" href="integration/event.html" /><link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../_static/pygments-github.css" rel="stylesheet">
  <link href="../_static/img/favicon.ico" rel="shortcut icon" />
  </head><body>
  
    <div class="header">
      <a href="../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced_features.html">Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../integration/demandware.html">Salesforce Commerce Cloud Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web_hooks.html">Webhooks</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../ios_sdk.html">Talkable iOS SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="integration.html">Integration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Social Sharing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#social-sharing-from-a-web-based-campaign">Social Sharing from a web-based campaign</a></li>
<li class="toctree-l3"><a class="reference internal" href="#legacy-sharing-using-social-framework">Legacy Sharing using Social.framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="#social-sharing-from-a-native-campaign">Social Sharing from a native campaign</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_integration.html">Native Integration via API</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_deep_linking.html">Integration with Third Party Deep Linking Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="example.html">Example</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="social-sharing">
<span id="ios-sdk-social-sharing"></span><h1>Social Sharing<a class="headerlink" href="#social-sharing" title="Permalink to this headline">¶</a></h1>
<p>Talkable iOS SDK provides the functionality to facilitate sharing offers via social networks.
Older versions of the SDK prior to 1.4.9 used Apple-provided Social.framework to implement
sharing to Facebook and Twitter. Starting with version 1.4.9, usage of Social.framework is
officially deprecated following Apple’s decision to deprecate the framework.</p>
<p>We still provide limited support of Social.framework to ensure the stability of legacy implementations.
However, developers are encouraged to use Facebook and Twitter SDKs to enable sharing to these platforms.</p>
<p>This article describes how to use the Talkable SDK with social sharing in various scenarios.</p>
<div class="section" id="social-sharing-from-a-web-based-campaign">
<h2>Social Sharing from a web-based campaign<a class="headerlink" href="#social-sharing-from-a-web-based-campaign" title="Permalink to this headline">¶</a></h2>
<p>The default Talkable iOS integration utilizes WebView to display web-based campaign views in your app.
If you have Facebook or Twitter available on your sharing page, the Talkable iOS SDK will automatically
detect when the user clicks on the share button and trigger one of the corresponding delegate methods
(see <a class="reference internal" href="advanced.html#ios-sdk-advanced-delegate"><span class="std std-ref">Talkable Delegate</span></a>).</p>
<div class="section" id="showfacebooksharedialogwithparams-delegate">
<h3>showFacebookShareDialogWithParams:delegate:<a class="headerlink" href="#showfacebooksharedialogwithparams-delegate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showFacebookShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">delegate:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span><span class="p">;</span>
</pre></div>
</div>
<p>This method is called when the user clicks on the ‘Facebook Share’ button.
The <code class="docutils literal notranslate"><span class="pre">params</span></code> dictionary contains information on the content being shared and will have the following keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TKBLOfferClaimUrlKey</span></code> - the link URL to share</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TKBLShareMessage</span></code> - the message to share</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">delegate</span></code> param is a delegate object that conforms to Facebook iOS SDK <code class="docutils literal notranslate"><span class="pre">SharingDelegate</span></code> protocol.
Pass this object as a <code class="docutils literal notranslate"><span class="pre">delegate:</span></code> param when sharing the link using FBSDK to automatically notify the Talkable SDK
that sharing was completed successfully. Talkable SDK will then register the share with Talkable so that you can see it
in your Talkable Dashboard.</p>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showFacebookShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">delegate:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">delegate</span> <span class="p">{</span>
     <span class="n">FBSDKShareLinkContent</span> <span class="o">*</span><span class="n">content</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FBSDKShareLinkContent</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
     <span class="n">content</span><span class="p">.</span><span class="n">contentURL</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:[</span><span class="n">params</span> <span class="nl">objectForKey</span><span class="p">:</span><span class="n">TKBLOfferClaimUrlKey</span><span class="p">]];</span>
     <span class="p">[</span><span class="n">FBSDKShareDialog</span> <span class="nl">showFromViewController</span><span class="p">:</span><span class="nb">self</span>
                                  <span class="nl">withContent</span><span class="p">:</span><span class="n">content</span>
                                     <span class="nl">delegate</span><span class="p">:</span><span class="n">delegate</span><span class="p">];</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="showfacebooksharedialogwithparams-completionhandler">
<h3>showFacebookShareDialogWithParams:completionHandler:<a class="headerlink" href="#showfacebooksharedialogwithparams-completionhandler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showFacebookShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">completion:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">completionHandler</span><span class="p">;</span>
</pre></div>
</div>
<p>This method is also called when the user clicks on the ‘Facebook Share’ button, but instead of <code class="docutils literal notranslate"><span class="pre">delegate</span></code> param it
provides the <code class="docutils literal notranslate"><span class="pre">completionHandler</span></code> block that should be called when sharing is completed successfully. Use
this method if you already have a delegate object that you use for Facebook sharing.
Pass the <code class="docutils literal notranslate"><span class="pre">completionHandler</span></code> block to the delegate object and call it in your
<code class="docutils literal notranslate"><span class="pre">sharer:didCompleteWithResults:</span></code> method.</p>
</div>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showFacebookShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">completion:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">completionHandler</span> <span class="p">{</span>
    <span class="n">MyFBSDKDelegateClass</span><span class="o">*</span> <span class="n">delegate</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span> <span class="n">myFBSDKDelegate</span><span class="p">];</span>
    <span class="n">delegate</span><span class="p">.</span><span class="n">talkableCompletionHandler</span> <span class="o">=</span> <span class="n">completionHandler</span><span class="p">;</span>
    <span class="n">FBSDKShareLinkContent</span> <span class="o">*</span><span class="n">content</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FBSDKShareLinkContent</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
    <span class="n">content</span><span class="p">.</span><span class="n">contentURL</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSURL</span> <span class="nl">URLWithString</span><span class="p">:[</span><span class="n">params</span> <span class="nl">objectForKey</span><span class="p">:</span><span class="n">TKBLOfferClaimUrlKey</span><span class="p">]];</span>
    <span class="p">[</span><span class="n">FBSDKShareDialog</span> <span class="nl">showFromViewController</span><span class="p">:</span><span class="nb">self</span>
                                 <span class="nl">withContent</span><span class="p">:</span><span class="n">content</span>
                                    <span class="nl">delegate</span><span class="p">:</span><span class="n">delegate</span><span class="p">];</span>
<span class="p">}</span>

<span class="p">...</span>

<span class="k">@implementation</span> <span class="nc">MyFBSDKDelegateClass</span>

<span class="k">@synthesize</span> <span class="n">talkableCompletionHandler</span><span class="p">;</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">sharer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">sharer</span> <span class="nf">didCompleteWithResults:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="o">&lt;</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">,</span> <span class="kt">id</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">)</span><span class="nv">results</span> <span class="p">{</span>
 <span class="k">if</span> <span class="p">((</span><span class="n">_talkableCompletionHandler</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span>
   <span class="n">_talkableCompletionHandler</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">@end</span>
</pre></div>
</div>
</div>
<div class="section" id="showtwittersharedialogwithparams-completionhandler">
<h3>showTwitterShareDialogWithParams:completionHandler:<a class="headerlink" href="#showtwittersharedialogwithparams-completionhandler" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showTwitterShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">completion:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">completionHandler</span><span class="p">;</span>
</pre></div>
</div>
<p>This method is called when the user clicks on the Twitter Share button. The <code class="docutils literal notranslate"><span class="pre">params</span></code> and <code class="docutils literal notranslate"><span class="pre">completionHandler</span></code>
attributes are analogous to the previous method.</p>
</div>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">showTwitterShareDialogWithParams:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">params</span> <span class="nf">completion:</span><span class="p">(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)())</span><span class="nv">completionHandler</span> <span class="p">{</span>
   <span class="n">TWTRComposer</span> <span class="o">*</span><span class="n">composer</span> <span class="o">=</span> <span class="p">[[</span><span class="n">TWTRComposer</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>

   <span class="p">[</span><span class="n">composer</span> <span class="nl">setText</span><span class="p">:[</span><span class="n">params</span> <span class="nl">objectForKey</span><span class="p">:</span><span class="n">TKBLShareMessage</span><span class="p">]];</span>

   <span class="p">[</span><span class="n">composer</span> <span class="nl">showFromViewController</span><span class="p">:</span><span class="nb">self</span> <span class="nl">completion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">TWTRComposerResult</span> <span class="n">result</span><span class="p">)</span> <span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="n">TWTRComposerResultDone</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">completionHandler</span><span class="p">();</span>
       <span class="p">}</span>
   <span class="p">}];</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="legacy-sharing-using-social-framework">
<h2>Legacy Sharing using Social.framework<a class="headerlink" href="#legacy-sharing-using-social-framework" title="Permalink to this headline">¶</a></h2>
<p>Prior to v1.4.9, the TalkableSDK used Social.framework to automatically display Facebook and Twitter sharing dialog
when the user clicks on on a corresponding button. This type of sharing relied on functionality built into iOS, and did not
require the use of additional SDKs. Staring with iOS 11, Apple deprecated this way of sharing and now requires
developers to utilize frameworks provided by Facebook and Twitter.
While Social.framework is officially deprecated, Talkable SDK still supports a limited subset of its functionality
to ensure a seamless transition to new implementations.</p>
<ul class="simple">
<li><p>If <cite>Talkable Delegate &lt;ios_sdk/advanced/delegate&gt;</cite> doesn’t implement either of the two Facebook methods,
TalkableSDK will attempt to trigger Facebook share via Social.framework.</p></li>
<li><p>Facebook sharing popup will only be displayed if Facebook app is installed on a customer’s phone, otherwise it will
silently fail.</p></li>
<li><p>Twitter sharing is not supported by Social.framework anymore.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Talkable iOS SDK v1.4.9 features improved support of legacy Facebook sharing via Social.framework. If you are having trouble
with your current implementation, please upgrade to the latest version. Note that we can only try to provide the best
transitioning experience, and this fallback should not be regarded as a permanent solution. We encourage developers to switch
to delegate methods for social sharing.</p>
</div>
</div>
<div class="section" id="social-sharing-from-a-native-campaign">
<h2>Social Sharing from a native campaign<a class="headerlink" href="#social-sharing-from-a-native-campaign" title="Permalink to this headline">¶</a></h2>
<p>The methods documented above are designed to work with web-based campaigns only. If you have integrated using our API,
please refer to the <a class="reference internal" href="api_integration.html#ios-sdk-api-integration-sharing"><span class="std std-ref">Sharing</span></a> section of the Native Integration page.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>