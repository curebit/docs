<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Filters &#8212; Talkable Documentation</title>
    <link rel="stylesheet" href="../../_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Videos" href="videos.html" />
    <link rel="prev" title="History" href="history.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../../_static/pygments-github.css" rel="stylesheet">
  <link href="../../_static/img/favicon.ico" rel="shortcut icon" />
  </head><body>
  
    <div class="header">
      <a href="../../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../campaigns.html">Talkable Campaigns</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../campaign_types.html">Campaign Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../campaign_placements.html">Campaign Placements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offers_expiration.html">Offers Expiration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../localization.html">Localization</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../editor.html">Editor</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="files.html">Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="videos.html">Videos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../designer.html">Designer</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_features.html">Advanced Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/custom_integration.html">Standard Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../integration/demandware.html">Demandware Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web_hooks.html">Web Hooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="campaigns-editor-filters"></span><div class="section" id="filters">
<h1>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers#standard-filters">Standard liquid filters</a> that are available out of box.</p>
<div class="section" id="import-font">
<h2>import_font<a class="headerlink" href="#import-font" title="Permalink to this headline">¶</a></h2>
<p>Inserts the font declaration to the page.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;My Font&quot; | import_font }}
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">font-face</span> <span class="p">{</span>
   <span class="nt">font-family</span><span class="o">:</span> <span class="s1">&#39;My Font&#39;</span><span class="o">;</span>
   <span class="nt">src</span><span class="o">:</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;https://d2jjzw81hqbuqv.cloudfront.net/static_assets/files/174201/original/font.woff&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;woff&#39;</span><span class="o">),</span> <span class="nt">url</span><span class="o">(</span><span class="s1">&#39;https://d2jjzw81hqbuqv.cloudfront.net/static_assets/files/174202/original/font.woff2&#39;</span><span class="o">)</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;woff2&#39;</span><span class="o">);</span>
   <span class="nt">font-weight</span><span class="o">:</span> <span class="nt">normal</span><span class="o">;</span>
   <span class="nt">font-style</span><span class="o">:</span> <span class="nt">normal</span><span class="o">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="asset-url">
<h2>asset_url<a class="headerlink" href="#asset-url" title="Permalink to this headline">¶</a></h2>
<p>Inserts link for an uploaded asset.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;image.jpg&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">asset_url</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Example: <a class="reference external" href="http://d2jjzw81hqbuqv.cloudfront.net/static_assets/files/745/original/offer-background.jpg">http://d2jjzw81hqbuqv.cloudfront.net/static_assets/files/745/original/offer-background.jpg</a></p>
<p><hr></p>
</div>
<div class="section" id="simple-format">
<h2>simple_format<a class="headerlink" href="#simple-format" title="Permalink to this headline">¶</a></h2>
<p>Formats plain text to have HTML formatting. E.g. replace <code class="docutils literal notranslate"><span class="pre">\n</span></code> with <code class="docutils literal notranslate"><span class="pre">&lt;br/&gt;</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;Hello [[advocate_info.email]]\nHere is your reward.&quot; | simple_format | interpolate }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">John&lt;br/&gt;Here</span> <span class="pre">is</span> <span class="pre">your</span> <span class="pre">reward</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="encode-query-argument">
<h2>encode_query_argument<a class="headerlink" href="#encode-query-argument" title="Permalink to this headline">¶</a></h2>
<p>Encodes a string to be included in a URL.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>http://example.com/?utm_campaign={{ &quot;Campaign Name&quot; | encode_query_argument }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">Campaign%20Name</span></code>, so the URL will be
<code class="docutils literal notranslate"><span class="pre">http://example.com/?utm_campaign=Campaign%20Name</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="probability-by">
<h2>probability_by<a class="headerlink" href="#probability-by" title="Permalink to this headline">¶</a></h2>
<p>This filter returns <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> for a dataset based on the probability you request:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">probability_by</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;param1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;param2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;param3&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">50</span></code> returns <code class="docutils literal notranslate"><span class="pre">true</span></code> in 50% cases for requested dataset. This filter provides the same result for a particular
dataset.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">probability should be always an integer value between <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
</div>
<p>Here is another example that returns <code class="docutils literal notranslate"><span class="pre">true</span></code> only in 10% cases for the interpolation variable:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">probability_by</span><span class="p">:</span><span class="w"> </span>advocate_info.email<span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>You can ommit passing any parameters and the result will be based on the Advocate offer. Also you may use <code class="docutils literal notranslate"><span class="pre">probability</span></code> as an alias which is a little shorter to write:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">probability</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>This example can be used in <code class="docutils literal notranslate"><span class="pre">Email</span> <span class="pre">sending</span> <span class="pre">condition</span></code> of Advocate Offer Email template to send email only in 33% cases:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">send_email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">33</span><span class="w"> </span>|<span class="w"> </span>probability<span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">send_email</span><span class="w"> </span><span class="p">%}</span>
  true
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="rand-by">
<h2>rand_by<a class="headerlink" href="#rand-by" title="Permalink to this headline">¶</a></h2>
<p>Produces a random value which is always the same for specific parameters passed.
First parameter is a maximum random number.</p>
<p>Simple example:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;100&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">rand_by</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;param1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;param2&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Always returns <code class="docutils literal notranslate"><span class="pre">29</span></code>.</p>
<p>Interpolation as a parameter:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">rand_by</span><span class="p">:</span><span class="w"> </span>advocate_info.email<span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Always returns the same number for a specific email, between 0 and 9.</p>
<p><hr></p>
</div>
<div class="section" id="regexp-captures">
<h2>regexp_captures<a class="headerlink" href="#regexp-captures" title="Permalink to this headline">¶</a></h2>
<p>Parses input with a given regexp and returning
<a class="reference external" href="http://www.regular-expressions.info/brackets.html">regular expression captures</a>
as an array.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s1">&#39;12345678&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">regexp_captures</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;(....)(....)&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">join</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;-&#39;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s1">&#39;bogdan@example.com&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">regexp_captures</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;^([a-z]+)\@([a-z]+)\.([a-z]+)&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">json</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="ab-test">
<h2>ab_test<a class="headerlink" href="#ab-test" title="Permalink to this headline">¶</a></h2>
<p>A/B testing static text:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;ab_test_identifier&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">ab_test</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Label 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Label 2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Label N&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>A/B testing text with interpolation:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;share_via_email_subject&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">ab_test</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;[[site_name]]&quot;</span><span class="p">,</span>
   &quot;Your friend [[advocate_info.email]] shared this deal with you&quot; | interpolate }}
</pre></div>
</div>
<p>A/B testing an asset:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;offer_background&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">ab_test</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;background-green.jpg&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;background-red.jpg&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">asset_url</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>A/B testing style:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span>&lt;body style=&quot;background-color: <span class="p">{{</span><span class="w"> </span><span class="s1">&#39;offer_background&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">ab_test</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;#d3d3d3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#ff0000&#39;</span><span class="w"> </span><span class="p">}}</span><span class="nf">&quot;&gt;</span><span class="w"></span>
<span class="w">  </span>...
&lt;/body&gt;
</pre></div>
</div>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span>&lt;h1 style=&quot;font-size: <span class="p">{{</span><span class="w"> </span><span class="s1">&#39;title_size&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">ab_test</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;24px&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;30px&#39;</span><span class="w"> </span><span class="p">}}</span><span class="nf">&quot;&gt;</span><span class="w"></span>
<span class="w">  </span>Sample<span class="w"> </span>Title
&lt;/h1&gt;
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="format-date">
<span id="liquid-filter-format-date"></span><h2>format_date<a class="headerlink" href="#format-date" title="Permalink to this headline">¶</a></h2>
<p>Format date for current localization.</p>
<p>Default format: Apr 04, 2014</p>
<p>Reference to all available formatting can be found in <a class="reference external" href="http://apidock.com/ruby/DateTime/strftime">strftime documentation</a></p>
<p>Reference to all available locales can be found in <a class="reference external" href="https://github.com/svenfuchs/rails-i18n#available-locales">rails-i18n documentation</a></p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">format_date</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">format_date</span><span class="p">:</span><span class="w"> </span><span class="na">format</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;%Y-%m-%d&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">format_date</span><span class="p">:</span><span class="w"> </span><span class="na">locale</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ru&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">format_date</span><span class="p">:</span><span class="w"> </span><span class="na">format</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;%Y-%m-%d&quot;</span><span class="p">,</span><span class="w"> </span><span class="na">locale</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ru&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">current_time</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">format_date</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="human-time-ago">
<h2>human_time_ago<a class="headerlink" href="#human-time-ago" title="Permalink to this headline">¶</a></h2>
<p>Transform given time to time ago in words.</p>
<p>If given time is yesterday, returns <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">day</span></code>.</p>
<p>Reference to all available locales can be found in <a class="reference external" href="https://github.com/svenfuchs/rails-i18n#available-locales">rails-i18n documentation</a></p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">human_time_ago</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">human_time_ago</span><span class="p">:</span><span class="w"> </span><span class="na">locale</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ru&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">current_time</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">human_time_ago</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="hours-from-time">
<h2>hours_from_time<a class="headerlink" href="#hours-from-time" title="Permalink to this headline">¶</a></h2>
<p>Alias <cite>hours_from_now</cite></p>
<p>Calculate difference between two dates. By default calculates between specified time and current time.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;Sun, 02 Jan 2000 10:00:00 PST&quot; | hours_from_time: &quot;Sat, 01 Jan 2000 10:00:00 PST&quot; }}
{{ &quot;2015-03-27 17:53&quot; | hours_from_time: &quot;2015-03-27 15:53&quot; }}
</pre></div>
</div>
<p>Next two examples is equivalent.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">friend_offer</span><span class="p">.</span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">hours_from_time</span><span class="p">:</span><span class="w"> </span>current_time<span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">friend_offer</span><span class="p">.</span><span class="nv">valid_until</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">hours_from_now</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Pretty useful example for email sending criteria to prevent sending mail when offer is about to expire.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">friend_offer</span><span class="p">.</span><span class="nv">valid_until</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">difference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>friend_offer.valid_until<span class="w"> </span>|<span class="w"> </span>hours_from_now<span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">difference</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="p">%}</span>
    true
  <span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
    false
  <span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
  true
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="interpolate">
<h2>interpolate<a class="headerlink" href="#interpolate" title="Permalink to this headline">¶</a></h2>
<p>Allows inline string interpolation using [[ ]] syntax.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;Get [[incentives.click.amount | money]] Off&quot; | interpolate }}
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="md5">
<h2>md5<a class="headerlink" href="#md5" title="Permalink to this headline">¶</a></h2>
<p>Calculates the MD5 hash of the string.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">md5</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">acbd18db4cc2f85cedef654fccc4a4d8</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="money">
<h2>money<a class="headerlink" href="#money" title="Permalink to this headline">¶</a></h2>
<p>Formats number using current currency.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;50&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">money</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">$50.00</span></code>.</p>
<p>Available options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">unit</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">separator</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">delimiter</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">format</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">precision</span> <span class="pre">(integer)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">strip_insignificant_zeros</span> <span class="pre">(boolean)</span></code></li>
</ul>
<div class="ptable docutils container">
<table border="1" class="docutils">
<colgroup>
<col width="82%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example</th>
<th class="head">Result</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100.11&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">precision:</span> <span class="pre">0</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$100</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100.99&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">precision:</span> <span class="pre">0</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$101</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100.99&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">strip_insignificant_zeros:</span> <span class="pre">true</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$100.99</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100.90&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">strip_insignificant_zeros:</span> <span class="pre">true</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$100.9</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100.00&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">strip_insignificant_zeros:</span> <span class="pre">true</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$100</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">unit:</span> <span class="pre">&quot;€&quot;</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">€100.00</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">unit:</span> <span class="pre">&quot;&quot;</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">100.00</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;10049.99&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">separator:</span> <span class="pre">&quot;_&quot;</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$10,049_99</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;10049.99&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">delimiter:</span> <span class="pre">&quot;_&quot;</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">$10_049.99</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">&quot;100&quot;</span> <span class="pre">|</span> <span class="pre">money:</span> <span class="pre">format:</span> <span class="pre">&quot;%n</span> <span class="pre">%u&quot;,</span> <span class="pre">unit:</span> <span class="pre">&quot;zł&quot;</span> <span class="pre">}}</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">100.00</span> <span class="pre">zł</span></code></td>
</tr>
</tbody>
</table>
</div>
<p><hr></p>
</div>
<div class="section" id="strip">
<h2>strip<a class="headerlink" href="#strip" title="Permalink to this headline">¶</a></h2>
<p>Removes leading and trailing blank symbols from the string.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;    strip me &quot; | strip }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">strip</span> <span class="pre">me</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="squish">
<h2>squish<a class="headerlink" href="#squish" title="Permalink to this headline">¶</a></h2>
<p>Returns the string, first removing all whitespace on both ends of the string, and then changing remaining consecutive whitespace groups into one space each.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;   foo   bar        baz &quot; | squish }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">bar</span> <span class="pre">baz</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="tweet-length">
<h2>tweet_length<a class="headerlink" href="#tweet-length" title="Permalink to this headline">¶</a></h2>
<p>Calculates a tweet length for the string.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;wow this is a tweet http://example.com&quot; | tweet_length }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">43</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="parse-json">
<h2>parse_json<a class="headerlink" href="#parse-json" title="Permalink to this headline">¶</a></h2>
<p>Parses the JSON string source into a Liquid data structure.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="na">&#39;{&quot;key&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;value&quot;</span>}&#39;<span class="w"> </span>|<span class="w"> </span>parse_json<span class="w"> </span><span class="p">%}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">var</span><span class="p">.</span><span class="nv">key</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p><hr></p>
</div>
<div class="section" id="claim-url">
<h2>claim_url<a class="headerlink" href="#claim-url" title="Permalink to this headline">¶</a></h2>
<p>Returns channel-specific claim URL.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;facebook&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">claim_url</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s2">&quot;linkedin&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">claim_url</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s2">&quot;twitter&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">claim_url</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="group-by">
<h2>group_by<a class="headerlink" href="#group-by" title="Permalink to this headline">¶</a></h2>
<p>Group an array’s items by a given property.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">incentives</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">group_by</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="sort">
<h2>sort<a class="headerlink" href="#sort" title="Permalink to this headline">¶</a></h2>
<p>Sort an array. Optional arguments for hashes: 1. property name 2. nils order (first or last).</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">campaign_tags</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">incentives</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">incentives</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;first&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="where">
<h2>where<a class="headerlink" href="#where" title="Permalink to this headline">¶</a></h2>
<p>Select all the objects in an array where the key has the given value.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">incentives</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;amount&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="localize">
<h2>localize<a class="headerlink" href="#localize" title="Permalink to this headline">¶</a></h2>
<p>Returns a localized version of string from campaign localization.
Has optional argument that specifies a default value if campaign has no defined localization yet.
Supports nested interpolation with <cite>[[  ]]</cite></p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;welcome_message&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">localize</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s2">&quot;offer_title&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">localize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Get [[incentives.referrer.description]]&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Supports fixed variants for localization, user will be able to set localization value only from this list.
First value will be a default value, or you can set it using <code class="docutils literal notranslate"><span class="pre">default</span></code> option.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;campaign_layout&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">localize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;right&quot;</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s2">&quot;header_size&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">localize</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;h2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;h3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;h4&quot;</span><span class="p">,</span><span class="w"> </span><span class="na">default</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;h2&quot;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>There is also boolean localization type. It has a strict requirement: exactly two variants which
determines boolean logics. The first variant is associated with <code class="docutils literal notranslate"><span class="pre">true</span></code>, the last one — <code class="docutils literal notranslate"><span class="pre">false</span></code>.
The first variant is set as default unless you change it to otherwise with a <code class="docutils literal notranslate"><span class="pre">default</span></code>
option (see above for an example). Here is an example of how to use boolean localization:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">responsive_font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fonts_size&#39;</span><span class="w"> </span>|<span class="w"> </span><span class="na">localize</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Responsive&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Fixed&#39;</span><span class="p">,</span><span class="w"> </span><span class="na">trait</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;boolean&#39;</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">responsive_font</span><span class="w"> </span><span class="p">%}</span>
  Responsive
<span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
  Fixed
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<p>For more information see <a class="reference internal" href="../localization.html#campaigns-localization"><span class="std std-ref">Localization</span></a> page.</p>
<p><hr></p>
</div>
<div class="section" id="scale-color">
<h2>scale_color<a class="headerlink" href="#scale-color" title="Permalink to this headline">¶</a></h2>
<p>Returns a new adjusted color with scaled attributes.
Available attributes: <cite>red</cite>, <cite>green</cite>, <cite>blue</cite>, <cite>saturation</cite>, <cite>lightness</cite>, <cite>alpha</cite></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;black&quot; | scale_color: lightness: 50 }}
{{ &quot;rgb(256, 128, 0)&quot; | scale_color: saturation: -10 }}
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="adjust-color">
<h2>adjust_color<a class="headerlink" href="#adjust-color" title="Permalink to this headline">¶</a></h2>
<p>Returns a new adjusted color based on the following attributes:</p>
<ul class="simple">
<li><cite>red</cite> — changes only the Red color channel saturation. Allowed values: <cite>-255</cite>-<cite>255</cite>.</li>
<li><cite>green</cite> — changes only the Green color channel saturation. Allowed values: <cite>-255</cite>-<cite>255</cite>.</li>
<li><cite>blue</cite> — changes only the Blue color channel saturation. Allowed values: <cite>-255</cite>-<cite>255</cite>.</li>
<li><cite>hue</cite> — changes the hue of a color. Allowed values: <cite>0</cite>-<cite>360</cite>.</li>
<li><cite>saturation</cite> — changes the saturation of a color. Allowed values: <cite>-100</cite>-<cite>100</cite>.</li>
<li><cite>lightness</cite> — changes the lightness of a color. Allowed values: <cite>-100</cite>-<cite>100</cite>.</li>
<li><cite>alpha</cite> — changes the opacity of a color. Allowed values: <cite>-1</cite>-<cite>1</cite>.</li>
</ul>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;red&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">adjust_color</span><span class="p">:</span><span class="w"> </span><span class="na">blue</span><span class="o">:</span><span class="w"> </span><span class="mi">255</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="s2">&quot;#000000&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">adjust_color</span><span class="p">:</span><span class="w"> </span><span class="na">alpha</span><span class="o">:</span><span class="w"> </span>-<span class="mf">0.5</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="leaderboard">
<h2>leaderboard<a class="headerlink" href="#leaderboard" title="Permalink to this headline">¶</a></h2>
<p>Returns array of top advocates for Leaderboard campaigns.
Parameter can be number from 1 to 100 or ‘advocate’.</p>
<p>If parameter is ‘advocate’ it will return rank info for current advocate.</p>
<p>It returns objects with next fields:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">leaderboard_rank</span></code> - Advocate rank</li>
<li><code class="docutils literal notranslate"><span class="pre">leaderboard_count</span></code> - Number of approved referrals for specified period</li>
<li><code class="docutils literal notranslate"><span class="pre">leaderboard_subtotal</span></code> - Sum of advocate purchase subtotals for specified period</li>
<li>also all fields from <a class="reference internal" href="variables.html#editor-variables-advocate-info"><span class="std std-ref">advocate_info</span></a> variable</li>
</ul>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">leaders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="w"> </span>|<span class="w"> </span>leaderboard<span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>leader<span class="w"> </span>in<span class="w"> </span>leaders<span class="w"> </span><span class="p">%}</span>
   &lt;td&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">leader</span><span class="p">.</span><span class="nv">leaderboard_rank</span><span class="w"> </span><span class="p">}}</span>&lt;/td&gt;
   &lt;td&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">leader</span><span class="p">.</span><span class="nv">leaderboard_count</span><span class="w"> </span><span class="p">}}</span>&lt;/td&gt;
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">leader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;advocate&quot;</span><span class="w"> </span>|<span class="w"> </span>leaderboard<span class="w"> </span><span class="p">%}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">leader</span><span class="p">.</span><span class="nv">email</span><span class="w"> </span><span class="p">}}</span> - <span class="p">{{</span><span class="w"> </span><span class="nv">leader</span><span class="p">.</span><span class="nv">leaderboard_count</span><span class="w"> </span><span class="p">}}</span> - <span class="p">{{</span><span class="w"> </span><span class="nv">leader</span><span class="p">.</span><span class="nv">leaderboard_rank</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="url2png">
<h2>url2png<a class="headerlink" href="#url2png" title="Permalink to this headline">¶</a></h2>
<p>Captures a snapshot of a website URL you pass to it. In case you need to
embed a snapshot of your website into Talkable campaign it is way better
to use this liquid filter instead of embedding an iframe since an image
is always lighter in size and takes less CPU performance to render on
a screen. Also, some websites restrict themselves from embedding through
an iframe so you can take <code class="docutils literal notranslate"><span class="pre">url2png</span></code> as a bulletproof solution for a
website snapshot.</p>
<p>Available options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ttl</span></code> - “time to live” period for a screenshot before it gets refreshed, in seconds. Value example: <code class="docutils literal notranslate"><span class="pre">86400</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">viewport</span></code> - Viewport dimensions. Value example: <code class="docutils literal notranslate"><span class="pre">&quot;640x480&quot;</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">custom_css_url</span></code> - Custom CSS file that will be injected into a website in case you need to change a screenshot. Value example: <code class="docutils literal notranslate"><span class="pre">&quot;http://url2png.com/tests/css/test.css&quot;</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">fullpage</span></code> - Attempts to capture entire document canvas. Value example: <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
</ul>
<p>Here is how you can embed a screenshot of your website into a campaign view (<code class="docutils literal notranslate"><span class="pre">site_url</span></code> returns your website URL that you set inside Site Settings):</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span>&lt;img src=&quot;<span class="p">{{</span><span class="w"> </span><span class="nv">site_url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">url2png</span><span class="w"> </span><span class="p">}}</span><span class="nf">&quot;</span><span class="w"> </span><span class="na">class</span><span class="o">=</span><span class="s2">&quot;campaign-site-on-the-back&quot;</span><span class="w"> </span>/&gt;
</pre></div>
</div>
<p>Refresh the screenshot every week:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span>&lt;img src=&quot;<span class="p">{{</span><span class="w"> </span><span class="s1">&#39;www.example.com&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">url2png</span><span class="p">:</span><span class="w"> </span><span class="na">ttl</span><span class="o">:</span><span class="w"> </span><span class="mi">604800</span><span class="w"> </span><span class="p">}}</span><span class="nf">&quot;</span><span class="w"> </span>/&gt;
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="barcode">
<h2>barcode<a class="headerlink" href="#barcode" title="Permalink to this headline">¶</a></h2>
<p>Represents any <code class="docutils literal notranslate"><span class="pre">string</span></code> as an array of boolean values: <code class="docutils literal notranslate"><span class="pre">[true,</span> <span class="pre">false]</span></code> in order to convert it into a barcode.
This filter strictly follows GS1-128 specification: <a class="reference external" href="https://en.wikipedia.org/wiki/GS1-128">https://en.wikipedia.org/wiki/GS1-128</a>.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">barcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;X&quot;</span><span class="w"> </span>|<span class="w"> </span>barcode<span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<p><strong>Here is an example how to convert a coupon code into a barcode:</strong></p>
<p>HTML:</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span>&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;
  <span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">barcode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>coupon_code<span class="w"> </span>|<span class="w"> </span>barcode<span class="w"> </span><span class="p">%}</span>
    &lt;tr&gt;
      <span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>bar<span class="w"> </span>in<span class="w"> </span>barcode<span class="w"> </span><span class="p">%}</span>
        &lt;!-- bar suppose to be true or false --&gt;
        &lt;td class=&quot;barcode-line is-<span class="p">{{</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="p">}}</span>&quot;&gt;&lt;/td&gt;
      <span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
    &lt;/tr&gt;
&lt;/table&gt;
</pre></div>
</div>
<p>SCSS:</p>
<div class="highlight-scss notranslate"><div class="highlight"><pre><span></span><span class="nc">.barcode-line</span> <span class="p">{</span>
  <span class="nt">height</span><span class="nd">:</span> <span class="nt">50px</span><span class="o">;</span>
  <span class="nt">width</span><span class="nd">:</span> <span class="nt">2px</span><span class="o">;</span>
  <span class="k">&amp;</span><span class="nc">.is-true</span> <span class="p">{</span>
    <span class="nt">background-color</span><span class="nd">:</span> <span class="nt">black</span><span class="o">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="barcode-image">
<h2>barcode_image<a class="headerlink" href="#barcode-image" title="Permalink to this headline">¶</a></h2>
<p>Represents any <code class="docutils literal notranslate"><span class="pre">string</span></code> as barcode image in png.
This filter strictly follows GS1-128 specification: <a class="reference external" href="https://en.wikipedia.org/wiki/GS1-128">https://en.wikipedia.org/wiki/GS1-128</a>.</p>
<p>It may take two arguments: <code class="docutils literal notranslate"><span class="pre">height</span></code> and <code class="docutils literal notranslate"><span class="pre">xdim</span></code> (thickness of the thinnest line).</p>
<p>Default values are <code class="docutils literal notranslate"><span class="pre">100</span></code> for <code class="docutils literal notranslate"><span class="pre">height</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> for <code class="docutils literal notranslate"><span class="pre">xdim</span></code>.</p>
<p>The values are in pixels.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nv">coupon</span><span class="p">.</span><span class="nv">code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">barcode_image</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">coupon</span><span class="p">.</span><span class="nv">code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">barcode_image</span><span class="p">:</span><span class="w"> </span><span class="na">height</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">coupon</span><span class="p">.</span><span class="nv">code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">barcode_image</span><span class="p">:</span><span class="w"> </span><span class="na">xdim</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">coupon</span><span class="p">.</span><span class="nv">code</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">barcode_image</span><span class="p">:</span><span class="w"> </span><span class="na">height</span><span class="o">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="na">xdim</span><span class="o">:</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Returns a URL string.</p>
<p><hr></p>
</div>
<div class="section" id="base64-encode">
<h2>base64_encode<a class="headerlink" href="#base64-encode" title="Permalink to this headline">¶</a></h2>
<p>Converts given string into a base64 encoded string.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{{ &quot;some string&quot; | base64_encode }}
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">c29tZSBzdHJpbmc=</span></code></p>
<p><hr></p>
</div>
<div class="section" id="base64-decode">
<h2>base64_decode<a class="headerlink" href="#base64-decode" title="Permalink to this headline">¶</a></h2>
<p>Decodes given base64 encoded string.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="s2">&quot;c29tZSBzdHJpbmc=&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">base64_decode</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">some</span> <span class="pre">string</span></code></p>
<p><hr></p>
</div>
<div class="section" id="values">
<h2>values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h2>
<p>Takes a hash and returns the array of its values.</p>
<div class="highlight-liquid notranslate"><div class="highlight"><pre><span></span><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="na">incentive_configs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>incentives<span class="w"> </span>|<span class="w"> </span>values<span class="w"> </span><span class="p">%}</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">[{ad</span> <span class="pre">incentive</span> <span class="pre">config},</span> <span class="pre">{fr</span> <span class="pre">incentive</span> <span class="pre">config}]</span></code></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>