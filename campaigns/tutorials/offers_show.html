<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advocate Share Page &mdash; Curebit Documentation</title>
    
    <link rel="stylesheet" href="../../_static/curebit.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Curebit Documentation" href="../../index.html" />
    <link rel="up" title="Tutorials" href="../tutorials.html" />
    <link rel="next" title="Friend Claim Page" href="offers_claim.html" />
    <link rel="prev" title="Global" href="global.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../../_static/pygments-github.css" rel="stylesheet">
  <link href="../../_static/img/favicon.ico" rel="shortcut icon" />
  </head>
  <body>
  
    <div class="header">
      <a href="../../index.html" class="header-logo">Curebit docs</a>
          <form class="header-search" action="../../search.html" method="get">
            <input type="text" class="textfield header-search-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button header-search-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="http://curebit.com" target="_blank">www.curebit.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ecommerce.html">E-Commerce Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../standalone.html">Standalone Integrations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../campaigns.html">Curebit Campaigns</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="global.html">Global</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Advocate Share Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="offers_claim.html">Friend Claim Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="incentive_criteria.html">Incentive Criteria</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../editor.html">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../designer.html">Designer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optional.html">Optional Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web_hooks.html">Web Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference (v1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_v2.html">API Reference (v2)</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="campaigns-tutorials-offers-show"></span><div class="section" id="advocate-share-page">
<h1>Advocate Share Page<a class="headerlink" href="#advocate-share-page" title="Permalink to this headline">¶</a></h1>
<div class="section" id="instant-reward">
<span id="tutorials-instant-reward"></span><h2>Instant Reward<a class="headerlink" href="#instant-reward" title="Permalink to this headline">¶</a></h2>
<p>Instant reward campaign is used when we need to reward RR immediately
after he shares. If RR redemption email is turned on it will be sent
right after successful share. The most popular share channel is
Facebook.</p>
<p>To make instant reward work you need to use FB App share instead of a
default sharer.php.
Also make sure <strong>RR social sharing incentive</strong> is set.</p>
<p>After that we need to setup Advocate Share Page with the following markup:</p>
<p><strong>HTML:</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Prompt user to share --&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;js-share-offer-via-facebook&quot;</span><span class="nt">&gt;</span>Share on Facebook<span class="nt">&lt;/a&gt;</span>
<span class="c">&lt;!-- Insert coupon code after successful share --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;js-coupon-code&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</pre></div>
</div>
<p><strong>JS:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">Curebit</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;facebook_share_succeeded&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">);</span> <span class="c1">// Insert coupon code as a text</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;No coupon code provided&#39;</span><span class="p">);</span> <span class="c1">// Show error that coupon code wasn&#39;t provided.</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>If you need to hide/show some information when shared and copy code on
click here is more advanced setup:</p>
<p><strong>HTML:</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Prompt user to share --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;js-not-shared&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;js-share-offer-via-facebook&quot;</span><span class="nt">&gt;</span>Share on Facebook<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="c">&lt;!-- Show coupon code after successful share. Hidden by default. --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;js-shared&quot;</span> <span class="na">style=</span><span class="s">&quot;display: none;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;js-coupon-code&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p><strong>JS:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">Curebit</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;facebook_share_succeeded&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">);</span> <span class="c1">// Insert coupon code as a text</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;data-clipboard-text&#39;</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">);</span> <span class="c1">// Copy coupon code on click</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-not-shared&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span> <span class="c1">// Hide everything with class `.js-not-shared`</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-shared&#39;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span> <span class="c1">// Show everything with class `.js-shared`</span>
    <span class="nx">bindClipToCopy</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">);</span> <span class="c1">// Initiate click to copy functionality</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-coupon-code&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;No coupon code provided&#39;</span><span class="p">);</span> <span class="c1">// Show error that coupon code wasn&#39;t provided.</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="cloudsponge-integration">
<span id="tutorials-cloudsponge"></span><h2>CloudSponge Integration<a class="headerlink" href="#cloudsponge-integration" title="Permalink to this headline">¶</a></h2>
<p><strong>HTML:</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;cs_import&quot;</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span><span class="nt">&gt;</span>Import contacts<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;//api.cloudsponge.com/address_books.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
  <span class="kd">var</span> <span class="nx">csPageOptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;include&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">],</span>
    <span class="s2">&quot;locale&quot;</span><span class="o">:</span> <span class="s2">&quot;english&quot;</span><span class="p">,</span>
    <span class="s2">&quot;domain_key&quot;</span><span class="o">:</span> <span class="s2">&quot;PHAUB8N7PNYWP555F7YB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;textarea_id&quot;</span><span class="o">:</span> <span class="s2">&quot;email_recipients_list&quot;</span>
  <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">domain_key</span></tt> — CloudSponge account (Curebit by default)</li>
<li><tt class="docutils literal"><span class="pre">textarea_id</span></tt> — ID attribute to populate data to</li>
</ol>
<p><strong>CloudSponge and Custom Domain</strong></p>
<p>CloudSponge integration is bound to specific domain. In order to use it with
custom domain you&#8217;ll need to obtain separate <tt class="docutils literal"><span class="pre">domain_key</span></tt>.</p>
<ol class="arabic simple">
<li>Go to <a class="reference external" href="https://www.cloudsponge.com/">CloudSponge</a></li>
<li>Add new domain, use your custom domain as domain name</li>
<li>Copy &amp; Paste new <tt class="docutils literal"><span class="pre">domain_key</span></tt> to your template</li>
</ol>
</div>
<div class="section" id="multiple-email-fields">
<span id="tutorials-multiple-email-fields"></span><h2>Multiple Email Fields<a class="headerlink" href="#multiple-email-fields" title="Permalink to this headline">¶</a></h2>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;js-share-via-email-form share-via-email&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;email&quot;</span> <span class="na">name=</span><span class="s">&quot;email_recipient_list[]&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;email&quot;</span> <span class="na">name=</span><span class="s">&quot;email_recipient_list[]&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;email&quot;</span> <span class="na">name=</span><span class="s">&quot;email_recipient_list[]&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="linkedin">
<span id="tutorials-linkedin"></span><h2>LinkedIn<a class="headerlink" href="#linkedin" title="Permalink to this headline">¶</a></h2>
<p><strong>Separate Wording</strong></p>
<p>Enable separate LinkedIn share wording (Open Graph title and message).</p>
<div class="highlight-liquid"><div class="highlight"><pre>{% if user_agent contains &quot;LinkedInBot&quot; %}
  Special offer title for LinkedIn friends
{% else %}
  Special offer title for Facebook friends
{% endif %}
</pre></div>
</div>
<p><strong>Basic Setup</strong></p>
<p><strong>HTML:</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//platform.linkedin.com/in.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;IN/Share&quot;</span> <span class="na">data-url=</span><span class="s">&quot;{{ short_url_linkedin }}&quot;</span> <span class="na">data-onsuccess=</span><span class="s">&quot;fireOnLinkedInShare&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
<p><strong>JS:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">fireOnLinkedInShare</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">Curebit</span><span class="p">.</span><span class="nx">share_succeeded</span><span class="p">(</span><span class="s1">&#39;linkedin&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Advanced Setup</strong></p>
<p><strong>HTML:</strong></p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;js-linkedin-button-holder&quot;</span> <span class="na">style=</span><span class="s">&quot;display: none;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//platform.linkedin.com/in.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;IN/Share&quot;</span> <span class="na">data-url=</span><span class="s">&quot;{{ short_url_linkedin }}&quot;</span> <span class="na">data-onsuccess=</span><span class="s">&quot;fireOnLinkedInShare&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</pre></div>
</div>
<p>Remember to wrap LI scripts into an <tt class="docutils literal"><span class="pre">js-linkedin-button-holder</span></tt>
container which is hidden by default not to show LinkedIn custom button
until it is loaded.</p>
<p><strong>JS:</strong></p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">fireOnLinkedInShare</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">Curebit</span><span class="p">.</span><span class="nx">share_succeeded</span><span class="p">(</span><span class="s1">&#39;linkedin&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">configureShareOnLinkedIn</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.IN-widget&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;style&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">className</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.IN-widget&#39;</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">attr</span><span class="p">({</span><span class="nx">style</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;in&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span> <span class="o">===</span> <span class="s1">&#39;Share&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">text</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">initLinkedInShareButton</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;IN-widget&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">initLinkedInShareButton</span><span class="p">);</span>
    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.js-linkedin-button-holder&#39;</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
    <span class="nx">configureShareOnLinkedIn</span><span class="p">({</span>
      <span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;btn btn-linkedin&#39;</span><span class="p">,</span> <span class="c1">// Button class</span>
      <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;LinkedIn&#39;</span> <span class="c1">// Button text</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">fireOnLinkedInShare</span></tt> — triggering this method is required to make
Curebit visits tracking work.</li>
<li><tt class="docutils literal"><span class="pre">initLinkedInShareButton</span></tt> — checks for LI button to load and then
show its container <tt class="docutils literal"><span class="pre">js-linkedin-button-holder</span></tt> and trigger
<tt class="docutils literal"><span class="pre">configureShareOnLinkedIn</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">configureShareOnLinkedIn</span></tt> — strips all unnecessary styles and
<tt class="docutils literal"><span class="pre">id</span></tt> attributes from all LI button children nodes and allows to
change <tt class="docutils literal"><span class="pre">class</span></tt> attribute and button text by passing an object.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  </body>
</html>