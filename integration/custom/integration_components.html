<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Integration Components &#8212; Talkable Documentation</title>
    <link rel="stylesheet" href="../../_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Alternate Post Purchase Script for cart line item passing" href="alternate_post_purchase.html" />
    <link rel="prev" title="Integration High Level Overview" href="overview.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../../_static/pygments-github.css" rel="stylesheet">
  <link href="../../_static/img/favicon.ico" rel="shortcut icon" />
  </head>
  <body>
  
    <div class="header">
      <a href="../../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_features.html">Advanced Features</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../custom_integration.html">Standard Integration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Integration High Level Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Integration Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#initialization-script">Initialization Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#post-purchase-script">Post Purchase Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advocate-landing-page">Advocate Landing Page</a></li>
<li class="toctree-l3"><a class="reference internal" href="#referral-dashboard">Referral Dashboard</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="validating_integration.html">Validating the Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verify.html">Verifying Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="questions.html">F.A.Q.</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../shopify.html">Shopify Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../magento.html">Magento Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demandware.html">Demandware Integration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web_hooks.html">Web Hooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="integration-custom-integration-components"></span><div class="section" id="integration-components">
<h1>Integration Components<a class="headerlink" href="#integration-components" title="Permalink to this headline">¶</a></h1>
<p>Talkable is composed of the following components:</p>
<ol class="arabic">
<li><p class="first"><a class="reference internal" href="#integration-custom-integration-components-initialization-script"><span class="std std-ref">Initialization Script</span></a></p>
<p><strong>Script Location.</strong> The Initialization script should be placed in the head template or some template
that spans every page. All other integration components are dependent on the Init script.</p>
<p><strong>Data Capture</strong> The Initialization Script should be passed variables for logged in users:</p>
<blockquote>
<div><ul class="simple">
<li>Email</li>
<li>First Name</li>
<li>Last Name</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#integration-custom-integration-components-post-purchase-script"><span class="std std-ref">Post Purchase Script</span></a></p>
<p><strong>Script Location.</strong> The Post Purchase script should be placed on the checkout confirmation page.</p>
<p><strong>Script Dependency.</strong> The Post Purchase script is dependent on the Initialization script to run.</p>
<p><strong>Data Capture.</strong> This script needs to capture purchase based details</p>
<ul class="simple">
<li>Email of purchaser</li>
<li>Order Number</li>
<li>Subtotal (pre-tax, post-discount amount)</li>
<li>Coupon code(s) used at checkout (can accept an array of strings if you allow for multiple coupons to
be applied at checkout)</li>
<li>(optional) Shipping Address for additional fraud protection.</li>
<li>(optional) Shopping cart line items. This is only necessary if segmenting based on cart contents.</li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="#integration-custom-integration-components-advocate-landing-page"><span class="std std-ref">Advocate Landing Page</span></a>.</p>
<p>Create an HTML page (URL path /share) with your standard site header and footer.
Add the Talkable Container DIV in the body. This tells Talkable where to inject content.</p>
</li>
<li><p class="first"><a class="reference internal" href="#integration-custom-integration-components-referral-dashboard"><span class="std std-ref">Referral Dashboard (my account)</span></a>.</p>
<p>Similar to the advocate landing page, create an HTML page that’s linked to from a menu in user accounts.
Add the Talkable Container DIV in the body. This tells Talkable where to inject content.</p>
</li>
</ol>
<p><hr></p>
<div class="section" id="initialization-script">
<span id="integration-custom-integration-components-initialization-script"></span><h2>Initialization Script<a class="headerlink" href="#initialization-script" title="Permalink to this headline">¶</a></h2>
<p>The Initialization script should be placed in the head template or some
template that spans every page. Talkable JS library size is typically
around 20kB and causes no noticeable impact to your site’s loading time.
All other integration components are dependent on the Initialization
script.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Begin Talkable integration code --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">async</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://d2jjzw81hqbuqv.cloudfront.net/integration/clients/your-site-id.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span><span class="p">.</span><span class="nx">unshift</span><span class="p">([</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">site_id</span><span class="o">:</span> <span class="s1">&#39;your-site-id&#39;</span> <span class="p">}]);</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;authenticate_customer&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Optional, pass when available. Example: &#39;customer@example.com&#39;</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Optional, pass when available. Example: &#39;John&#39;</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="c1">// Optional, pass when available. Example: &#39;Smith&#39;</span>
  <span class="p">}]);</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_affiliate&#39;</span><span class="p">,</span> <span class="p">{}]);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- End Talkable integration code --&gt;</span>
</pre></div>
</div>
<div class="section" id="initialization-script-notes">
<h3>Initialization Script Notes<a class="headerlink" href="#initialization-script-notes" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first"><strong>Site ID.</strong> You can obtain your Site ID by logging into the Talkable
platform where Site ID is displayed on your Dashboard and URL as seen
here:</p>
<div class="figure">
<img alt="Site ID" src="../../_images/site_id.png" />
</div>
</li>
<li><p class="first"><strong>Variables.</strong> Use your dynamic variables to pass user details {email,
first_name, last_name} if the user is logged in and the data
exists. If the data does not exist, you can pass a null value or a
blank string. If your website doesn’t have a user accounts section
and this info is never available, it’s acceptable to completely omit
the parameters, or pass empty strings.</p>
</li>
</ol>
<p><hr></p>
</div>
</div>
<div class="section" id="post-purchase-script">
<span id="integration-custom-integration-components-post-purchase-script"></span><h2>Post Purchase Script<a class="headerlink" href="#post-purchase-script" title="Permalink to this headline">¶</a></h2>
<p>The post purchase script should be placed on your checkout confirmation
page or any page that immediately follows checkout. All parameters can
be passed as strings. A Number can be passed for <cite>subtotal</cite>, however, if
using any calculation, you’re responsible for ensuring that some number is
passed where division by zero or <cite>null</cite> value does not occur.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Begin Talkable integration code --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="kd">var</span> <span class="nx">_talkable_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">purchase</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">order_number</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Unique order number. Example: &#39;100011&#39;</span>
      <span class="nx">subtotal</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Order subtotal (pre-tax, post-discount). Example: &#39;23.97&#39;</span>
      <span class="nx">coupon_code</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="c1">// Coupon code that was used at checkout (pass multiple as an array). Example: &#39;SAVE20&#39;</span>
      <span class="nx">shipping_zip</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>  <span class="c1">// Optional - used for fraud protection by address. Example: &#39;02222&#39;</span>
      <span class="nx">shipping_address</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="c1">// Full address of the order, make sure to strictly follow a format: &#39;Apt #, Street address, City, State, ZIP, Country&#39;</span>
    <span class="p">},</span>
    <span class="nx">customer</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="c1">// Customer email address who issued a purchase. Example: &#39;customer@example.com&#39;</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_purchase&#39;</span><span class="p">,</span> <span class="nx">_talkable_data</span><span class="p">]);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- End Talkable integration code --&gt;</span>
</pre></div>
</div>
<div class="section" id="post-purchase-script-notes">
<h3>Post Purchase Script Notes<a class="headerlink" href="#post-purchase-script-notes" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Mandatory parameters must be passed or the purchase will not be
passed to Talkable. Mandatory parameters are: {email, order_number,
subtotal}</li>
<li>Coupon code is not mandatory, and Talkable will still consider it a
valid purchase without this, however if you have the ability to
surface this variable, then it should be passed.</li>
<li>Shipping parameters are optional but gives the added benefit of
additional fraud protection</li>
<li>If you’re using a payment gateway that directs the user away from
your domain, you should ensure that some auto return feature is
enabled so that the user returns to the checkout confirmation page to
allow the post purchase script to run.</li>
<li>If you’re using a tag manager <a class="reference internal" href="integration_tag_manager.html#integration-custom-integration-tag-manager"><span class="std std-ref">click here</span></a>.</li>
<li>If you need to pass shopping cart line items, to see the alternate
post purchase integration script <a class="reference internal" href="alternate_post_purchase.html#integration-custom-alternate-post-purchase"><span class="std std-ref">click here</span></a>.</li>
</ol>
</div>
</div>
<div class="section" id="advocate-landing-page">
<span id="integration-custom-integration-components-advocate-landing-page"></span><h2>Advocate Landing Page<a class="headerlink" href="#advocate-landing-page" title="Permalink to this headline">¶</a></h2>
<p>Create a new HTML page with URL path (<cite>www.your-site.com/share</cite>) and add the Talkable Container DIV
in the body of the page between your standard site header and footer:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;talkable-offer&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="advocate-landing-page-notes">
<h3>Advocate Landing Page Notes<a class="headerlink" href="#advocate-landing-page-notes" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">The Talkable Initialization script must be present in your head
template in order for the advocate landing page to work</p>
</li>
<li><p class="first">Talkable will inject referral content where Talkable Container
resides in your DOM</p>
</li>
<li><p class="first">URL Path: If you can’t use URL path <cite>www.your-site.com/share</cite> then
you’ll need to update the Site Placements section inside of Talkable
for the Invite Advocate Landing Page to match the exact URL path that
you intend to use via
<cite>https://www.admin.talkable.com/sites/your-site-id/placements:</cite></p>
<div class="figure">
<img alt="Placement Edit" src="../../_images/placement_edit.png" />
</div>
</li>
</ol>
<p><hr></p>
</div>
</div>
<div class="section" id="referral-dashboard">
<span id="integration-custom-integration-components-referral-dashboard"></span><h2>Referral Dashboard<a class="headerlink" href="#referral-dashboard" title="Permalink to this headline">¶</a></h2>
<p>Similar to the Advocate Landing Page, create a new HTML page with URL
path (<cite>www.your-site.com/referrals</cite>) and add the Talkable Container DIV in
the body of the page:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;talkable-offer&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="referral-dashboard-notes">
<h3>Referral Dashboard notes:<a class="headerlink" href="#referral-dashboard-notes" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>The <a class="reference internal" href="#integration-custom-integration-components-initialization-script"><span class="std std-ref">Talkable Initialization Script</span></a> must be present in your head
template in order for the referral dashboard to work</li>
<li>Talkable will inject referral content where Talkable Container
resides in your DOM. Adding a new page is only a suggestion. The
dashboard can be added inline inside your user accounts menu, however
the dashboard content width for proper display is 980px.</li>
<li><strong>URL Path.</strong> If you don’t host on <cite>www.your-site.com/referrals</cite> then
you’ll need to update the Site Placements section inside of Talkable
for the Dashboard Placement to use the exact URL path you intend to
host the Referral Dashboard on via
<cite>https://www.talkable.com/sites/your-site-id/placements</cite></li>
<li><strong>Linking to the Referral Dashboard.</strong> Allow your users to reach the
Referral Dashboard by adding a link from any place that makes sense
considering your website configuration. Most common uses are links in
the user accounts section, or from the user accounts menu.</li>
<li><strong>Host on a page that’s only accessible behind login.</strong> The Referral
Dashboard contains semi-sensitive information about an Advocate’s
referral history. If you don’t have user logins, then the Referral
Dashboard can be configured to display partially obfuscated data for
public access.</li>
</ol>
<div class="hidden docutils container">
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="alternate_post_purchase.html">Alternate Post Purchase Script for cart line item passing</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration_tag_manager.html">Integrating with a Tag Manager</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>