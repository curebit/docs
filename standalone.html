<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Standalone Integrations &mdash; Talkable Documentation</title>
    
    <link rel="stylesheet" href="_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Talkable Documentation" href="index.html" />
    <link rel="next" title="SaaS Integrations" href="saas.html" />
    <link rel="prev" title="Verification Digest" href="ecommerce/verification_digest.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="_static/pygments-github.css" rel="stylesheet">
  <link href="_static/img/favicon.ico" rel="shortcut icon" />
  </head>
  <body>
  
    <div class="header">
      <a href="index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ecommerce.html">E-Commerce Integrations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Standalone Integrations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-integration">Basic Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-integration">Custom Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sign-up">Sign Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-a-coupon-code">Get a Coupon Code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saas.html">SaaS Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="campaigns.html">Talkable Campaigns</a></li>
<li class="toctree-l1"><a class="reference internal" href="optional.html">Optional Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_hooks.html">Web Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_v2.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ios_sdk.html">Talkable iOS SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="standalone"></span><div class="section" id="standalone-integrations">
<h1>Standalone Integrations<a class="headerlink" href="#standalone-integrations" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>We offer separate integration script for each <strong>Enterprise</strong> site.
This allows us to better support integration individually.</p>
<p class="last">Please <a href="https://www.talkable.com/contact" target="_blank">contact us</a> if you are planning to integrate your <strong>Enterprise</strong> site.</p>
</div>
<p>To ensure the campaign is loaded as fast as possible with no delay, it is
important that you place your integration script inside the HEAD tag.
In order to make sure your campaign will load properly from the HEAD tag you
will have to use the &#8220;container&#8221; option in the integration script
(<a class="reference external" href="http://take.ms/nW6YL">image</a>).</p>
<p>Once you have placed your integration script inside the HEAD tag, and you have
defined the iframe container parameter, then you will be able to set up an empty
block with id = container parameter from integration script. Now that you have
defined the campaign Container ID, your campaign will be inserted anywhere on
your page where the container id is identified.</p>
<div class="section" id="basic-integration">
<h2>Basic Integration<a class="headerlink" href="#basic-integration" title="Permalink to this headline">¶</a></h2>
<p>Standalone campaign can be integrated to the page with the following code:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Talkable iframe container, you are free to control its place in the DOM --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;talkable-sa-container&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="c">&lt;!-- Begin Talkable integration code --&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">_talkableq</span> <span class="o">=</span> <span class="nx">_talkableq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">site_id</span><span class="o">:</span> <span class="s1">&#39;YOUR-TALKABLE-SITE-ID&#39;</span> <span class="c1">// REQUIRED - Talkable Site ID</span>
    <span class="c1">// , server: &#39;https://www.talkable.com&#39; // OPTIONAL - use your own domain, that suppose to be setup as alias to talkable.com (this option is only possible for Enterprise client)</span>
  <span class="p">}]);</span>

  <span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_affiliate&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">campaign_tags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">],</span> <span class="c1">// REQUIRED - campaign tags for offer targeting</span>

    <span class="nx">iframe</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// REQUIRED - any valid HTML attributes can go in here</span>
      <span class="nx">container</span><span class="o">:</span> <span class="s1">&#39;talkable-sa-container&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - Tell Talkable where to insert the iframe (the value represents an HTML id attribute of a container)</span>
      <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED - width of the iframe</span>
      <span class="nx">height</span><span class="o">:</span> <span class="mi">960</span><span class="p">,</span> <span class="c1">// REQUIRED - initial height of the iframe. Will be automatically updated if responsive option is set to true.</span>
      <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;new_talkable_affiliate_member&#39;</span> <span class="c1">// OPTIONAL - any other HTML attribute</span>
    <span class="p">},</span>

    <span class="nx">affiliate_member</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// OPTIONAL - Talkable will ask person to signup in case when his email is not given by merchant</span>
      <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;customer@example.com&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer email</span>
      <span class="nx">first_name</span><span class="o">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer first name</span>
      <span class="nx">last_name</span><span class="o">:</span> <span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer last name</span>
      <span class="nx">customer_id</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span> <span class="c1">// OPTIONAL - customer ID from your site</span>
      <span class="c1">// , person_custom_properties: { // OPTIONAL - additional customer properties</span>
      <span class="c1">//     key1: &#39;value1&#39;, // String value</span>
      <span class="c1">//     key2: &#39;123.2&#39; // Numeric value</span>
      <span class="c1">// }</span>
      <span class="c1">// , traffic_source: &#39;Signup Page&#39; // OPTIONAL - indicate person traffic source. Can be used as segmentation parameter in reporting.</span>
    <span class="p">}</span>
    <span class="c1">// , responsive: false // OPTIONAL - fit iframe into any viewport (iframe height will be changed on window resize as well) which allows Talkable to make web pages responsive. &#39;false&#39; disables it.</span>
  <span class="p">}]);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//d2jjzw81hqbuqv.cloudfront.net/integration/talkable-1.0.38.min.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- End Talkable integration code --&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://jsbin.com/cepayesiza/1">Example standalone integration</a></p>
<p><a class="reference external" href="http://jsbin.com/cepayesiza/1/edit?html,js,output">Source for standalone integration</a></p>
<h2>Passing Custom Person Data</h2><p><tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> is a variable that allows you to pass custom data
to Talkable in the form of Key-Value pairs via integration.</p>
<p><tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> has robust uses as you are able to define and pass
any key value pairs you wish.</p>
<p>The values you define for some key should be JSON Key-Value pairs themselves,
this means complex data structures can be passed through.</p>
<p>Any <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> data passed through is tied to the Person
(<abbr title="Person, who shares an offer with his Friend(s)">Advocate</abbr> or <abbr title="Person, who is invited to participate in Campaign by Advocate">Friend</abbr>), that means there is only one instance of each field in
existence at any time: the most recently passed data.</p>
<p>All data associated with <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> is available for use
across all Campaign Views. Accessing this data beings by creating a variable
to store your custom_properties:</p>
<div class="highlight-liquid"><div class="highlight"><pre>{% assign data = advocate_info.custom_properties %}
</pre></div>
</div>
<p>Key Value pairs can be referenced through your newly created object by referencing
the value name such as:</p>
<div class="highlight-liquid"><div class="highlight"><pre>{{ data.favorite_color }}
</pre></div>
</div>
<p>Defining <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> in your integration might look something like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">_talkable_order_details</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">person_custom_properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">person_occupation</span><span class="o">:</span> <span class="s1">&#39;marketing&#39;</span><span class="p">,</span>
    <span class="nx">height</span><span class="o">:</span> <span class="s1">&#39;72 inches&#39;</span><span class="p">,</span>
    <span class="nx">eye_color</span><span class="o">:</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span>
    <span class="nx">birthday</span><span class="o">:</span> <span class="s1">&#39;07/03/1983&#39;</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<h2>Using Current Location URL Parameters</h2><p>You are able to pass some parameters to Talkable directly from current URL.</p>
<p>In this case Talkable integration code will automatically catch some of the
current location parameters and pass them to Talkable:</p>
<ul class="simple">
<li>email - will be passed as affiliate email</li>
<li>first_name - will be passed as affiliate first_name</li>
<li>last_name - will be passed as affiliate last_name</li>
<li>customer_id - will be passed as customer_id</li>
<li>campaign_tags - will be passed as campaign tags</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Location parameters have higher priority than explicit parameters passed in
the integration code above.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Don&#8217;t forget to escape them with URI parameter encoder.</p>
</div>
<h3>Example</h3><p>Suppose that you have Talkable integration code on &#8220;<strong>http://your-merchant.com/share</strong>&#8221;.
The following code will register <a class="reference external" href="mailto:person&#37;&#52;&#48;example&#46;com">person<span>&#64;</span>example<span>&#46;</span>com</a> in campaign with tag &#8220;custom&#8221;:</p>
<div class="highlight-url"><div class="highlight"><pre>http://your-merchant.com/share?email=person@example.com&amp;campaign_tags=custom
</pre></div>
</div>
<h2>Optimizing for Viewport</h2><p>Talkable provides flexibility for the merchant to decide how they want to
optimize mobile.</p>
<p>If your site is responsive, all you&#8217;ll want to do is set <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt>.
In your campaign, there are different views for mobile, tablet and desktop.
We&#8217;ll automatically pull the correct theme view based on the user&#8217;s device
once we detect the viewport. We&#8217;ll use our responsive engine to size the
Talkable iframe to the right size. Like Magic!</p>
<p>If you have separate mobile, tablet and desktop sites (or any combination of
the three), you can leave <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt> on but also specifically set the
campaign theme view to use. This will prevent Talkable from automatically
assigning the theme view to use, but will allow us to resize within the screen
to make sure all elements fit well.</p>
<p>Make sure you have this CSS in your campaign theme so it won&#8217;t have a double
scrollbars on resize (if <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt>)</p>
<div class="code css highlight-python"><div class="highlight"><pre>body { overflow: hidden; }
</pre></div>
</div>
<h2>Passing traffic_source through the URL</h2><p>When driving traffic to one of your campaigns, you can include a traffic source parameter as a URL query string to help segment your reporting.  This is helpful when you are driving traffic from many different sources to the same campaign.  This makes sense to do for both on-site and off-site call to actions where you want to specifically want to track your traffic source.  For example, if you are driving traffic on-site to your Standalone campaign both from your home page navigation bar and from your footer template, and you wanted to see which one is more high value and driving more traffic to your campaign you could look at the different traffic sources in reporting to clearly see this.</p>
<p>How to use the traffic_source parameter in a call to action:</p>
<p>Say you have a Standalone integration displaying a campaign on www.yoursite.com/share.
You could append the traffic_source parameter on to your footer call to action as seen below:</p>
<p><tt class="docutils literal"><span class="pre">www.yoursite.com/share?traffic_source=footer</span></tt></p>
<p><a class="reference external" href="http://jsbin.com/zucayikoxo/1">Example integration</a>.</p>
<p><a class="reference external" href="http://jsbin.com/zucayikoxo/1/edit?html,output">Source integration</a>.</p>
<p><hr></p>
</div>
<div class="section" id="custom-integration">
<h2>Custom Integration<a class="headerlink" href="#custom-integration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sign-up">
<h3>Sign Up<a class="headerlink" href="#sign-up" title="Permalink to this headline">¶</a></h3>
<p>Capture the email and make ajax request to Talkable with entered email, campaign
tags and possible any other data like first/last name. We return back
a json containing offer short code. Then redirect user to share page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To get your personal integration code, YOUR-TALKABLE-SITE-ID needs to be
replaced with your Talkable Site ID. You can get this from your Talkable
dashboard after you log in and create a site.</p>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">site_id</span> <span class="o">=</span> <span class="s1">&#39;YOUR-TALKABLE-SITE-ID&#39;</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;https://www.talkable.com/public/&#39;</span> <span class="o">+</span> <span class="nx">site_id</span> <span class="o">+</span> <span class="s1">&#39;/affiliate_members/create.json&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">campaign_tag</span><span class="o">:</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED</span>
  <span class="nx">affiliate_member</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;YOUR-USER-EMAIL&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED - customer email</span>
    <span class="nx">first_name</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer first name</span>
    <span class="nx">last_name</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer last name</span>
    <span class="nx">customer_id</span><span class="o">:</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer ID from your site</span>
    <span class="c1">// person_custom_properties: { // OPTIONAL - additional customer properties</span>
    <span class="c1">//     key1: &#39;value1&#39;, // string value</span>
    <span class="c1">//     key2: &#39;123.2&#39; // numeric value</span>
    <span class="c1">// }</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Save offer_code</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">offer_code</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Check for errors</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Something went wrong</span>
<span class="p">});</span>
</pre></div>
</div>
<h3>Sample response</h3><div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;success&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">&quot;offer_code&quot;</span><span class="o">:</span> <span class="s2">&quot;pLs495&quot;</span><span class="p">,</span>
  <span class="s2">&quot;offer_link&quot;</span><span class="o">:</span> <span class="s2">&quot;http://talkable.com/o/pLs495/show&quot;</span><span class="p">,</span>
  <span class="s2">&quot;facebook_offer_link&quot;</span><span class="o">:</span> <span class="s2">&quot;http://talkable.com/x/PiqkTF&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<h3>Sample errors</h3><div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;success&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;errors&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Email can&#39;t be blank&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<h2>Passing Custom Person Data</h2><p><tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> is a variable that allows you to pass custom data
to Talkable in the form of Key-Value pairs via integration.</p>
<p><tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> has robust uses as you are able to define and pass
any key value pairs you wish.</p>
<p>The values you define for some key should be JSON Key-Value pairs themselves,
this means complex data structures can be passed through.</p>
<p>Any <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> data passed through is tied to the Person
(<abbr title="Person, who shares an offer with his Friend(s)">Advocate</abbr> or <abbr title="Person, who is invited to participate in Campaign by Advocate">Friend</abbr>), that means there is only one instance of each field in
existence at any time: the most recently passed data.</p>
<p>All data associated with <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> is available for use
across all Campaign Views. Accessing this data beings by creating a variable
to store your custom_properties:</p>
<div class="highlight-liquid"><div class="highlight"><pre>{% assign data = advocate_info.custom_properties %}
</pre></div>
</div>
<p>Key Value pairs can be referenced through your newly created object by referencing
the value name such as:</p>
<div class="highlight-liquid"><div class="highlight"><pre>{{ data.favorite_color }}
</pre></div>
</div>
<p>Defining <tt class="docutils literal"><span class="pre">person_custom_properties</span></tt> in your integration might look something like this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">_talkable_order_details</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">person_custom_properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">person_occupation</span><span class="o">:</span> <span class="s1">&#39;marketing&#39;</span><span class="p">,</span>
    <span class="nx">height</span><span class="o">:</span> <span class="s1">&#39;72 inches&#39;</span><span class="p">,</span>
    <span class="nx">eye_color</span><span class="o">:</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span>
    <span class="nx">birthday</span><span class="o">:</span> <span class="s1">&#39;07/03/1983&#39;</span>
  <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p><hr></p>
</div>
<div class="section" id="get-a-coupon-code">
<h3>Get a Coupon Code<a class="headerlink" href="#get-a-coupon-code" title="Permalink to this headline">¶</a></h3>
<p>Use offer short code to get a Coupon Code after share.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">offer_code</span> <span class="o">=</span> <span class="s1">&#39;OFFER-CODE&#39;</span><span class="p">;</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;https://www.talkable.com/o/&#39;</span> <span class="o">+</span> <span class="nx">offer_code</span> <span class="o">+</span> <span class="s1">&#39;/fire_event.json&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">event_name</span><span class="o">:</span> <span class="s1">&#39;share&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED</span>
  <span class="nx">event_sharing_channel</span><span class="o">:</span> <span class="s1">&#39;email&#39;</span> <span class="c1">// REQUIRED - may be email, facebook, twitter</span>
<span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Save coupon_code</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">coupon_code</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Check for errors</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}).</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Something went wrong</span>
<span class="p">});</span>
</pre></div>
</div>
<h3>Sample response</h3><div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;success&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">&quot;coupon_code&quot;</span><span class="o">:</span> <span class="s2">&quot;CODE-123&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<h3>Sample errors</h3><div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;success&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">&quot;errors&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;event_sharing_channel is not specified&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="hidden container">
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>
