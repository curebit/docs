<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Shopify &mdash; Talkable Documentation</title>
    
    <link rel="stylesheet" href="../../_static/talkable.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Talkable Documentation" href="../../index.html" />
    <link rel="up" title="Platform Integration" href="../platform.html" />
    <link rel="next" title="Verifying Integration" href="../verify.html" />
    <link rel="prev" title="Magento" href="magento.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
  <link href="../../_static/pygments-github.css" rel="stylesheet">
  <link href="../../_static/img/favicon.ico" rel="shortcut icon" />
  </head>
  <body>
  
    <div class="header">
      <a href="../../index.html" class="header-logo">Talkable docs</a>
          <form class="search-form" action="../../search.html" method="get">
            <input type="text" class="textfield search-form-field" name="q" placeholder="Search docs" />
            <input type="submit" class="button search-form-button" value="Search" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
      <div class="header-disclaimer">
        Visit
        <a href="https://www.talkable.com" target="_blank">www.talkable.com</a>
      </div>
    </div> <!-- /.header -->
  

  <div class="content-container content clearfix">
      <div class="nav">
        <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../ecommerce.html">E-Commerce Integration</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Shopify</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#automatic-integration">Automatic integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-integration">Manual integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="magento.html">Magento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../custom.html">Other Platform</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../saas.html">SaaS Integrations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_features.html">Advanced Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../campaigns.html">Talkable Campaigns</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_v2.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../web_hooks.html">Web Hooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ios_sdk.html">Talkable iOS SDK</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../android_sdk.html">Talkable Android SDK</a></li>
</ul>

      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="ecommerce-platform-shopify"></span><div class="section" id="shopify">
<h1>Shopify<a class="headerlink" href="#shopify" title="Permalink to this headline">¶</a></h1>
<div class="section" id="automatic-integration">
<h2>Automatic integration<a class="headerlink" href="#automatic-integration" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have previosuly integrated with Talkable, make sure you remove the manual
Talkable integration script located in the Additional Content &amp; Scripts section before
you start the Automatic integration process. See <a class="reference internal" href="#manual-integration">Manual integration</a> for details.</p>
</div>
</div></blockquote>
<ol class="arabic simple">
<li>Install the <a class="reference external" href="https://apps.shopify.com/talkable">Shopify Talkable application</a>.</li>
<li>In your Talkable administration panel, go to
<strong>Dashboard</strong> → Expand <strong>Settings</strong> dropdown → <strong>Shopify Integration</strong>.</li>
<li>Then click <strong>Install Talkable</strong> in your Shopify administration panel.</li>
<li>Modify existing integration script if needed.</li>
<li>Activate Post Purchase or Invite(Standalone) Campaign.</li>
<li>Verify your integration using <a class="reference internal" href="../verify.html#ecommerce-verify"><em>Verifying Integration Instructions</em></a>.</li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Post Purchase campaign is located at the Thank you page after Checkout.</p>
<p class="last">To check how Standalone Campaign looks visit <em>/pages/share</em> or <em>/pages/invite</em> links of your store.
You can edit these links in Administrative panel of your store.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="manual-integration">
<h2>Manual integration<a class="headerlink" href="#manual-integration" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">In your Shopify administration panel, go to
<strong>Settings</strong> &rarr; <strong>Checkout &amp; Payment</strong>.</p>
</li>
<li><p class="first">Under <strong>Order Processing</strong> &rarr; <strong>Additional Content &amp; Scripts</strong>,
insert this code:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To get your personal integration code, YOUR-TALKABLE-SITE-ID needs to be
replaced with your Talkable Site ID. You can get this from your Talkable
dashboard after you log in and create a site.</p>
</div>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Begin Talkable integration code --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
  <span class="kd">var</span> <span class="nx">_talkableq</span> <span class="o">=</span> <span class="nx">_talkableq</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">site_id</span><span class="o">:</span> <span class="s2">&quot;YOUR-TALKABLE-SITE-ID&quot;</span><span class="p">}]);</span> <span class="cm">/* REQUIRED - Replace with your Talkable Site ID */</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">Shopify</span> <span class="o">&amp;&amp;</span> <span class="nx">Shopify</span><span class="p">.</span><span class="nx">checkout</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">checkout</span> <span class="o">=</span> <span class="nx">Shopify</span><span class="p">.</span><span class="nx">checkout</span>
    <span class="kd">var</span> <span class="nx">_talkable_order_items</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">idx</span> <span class="k">in</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">line_items</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">line</span> <span class="o">=</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">line_items</span><span class="p">[</span><span class="nx">idx</span><span class="p">];</span>
      <span class="nx">_talkable_order_items</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
        <span class="nx">product_id</span><span class="o">:</span> <span class="nx">line</span><span class="p">.</span><span class="nx">sku</span> <span class="o">||</span> <span class="nx">line</span><span class="p">.</span><span class="nx">product_id</span><span class="p">,</span> <span class="cm">/* REQUIRED - First Item Product ID */</span>
        <span class="nx">price</span><span class="o">:</span> <span class="nx">line</span><span class="p">.</span><span class="nx">price</span><span class="p">,</span> <span class="cm">/* REQUIRED - First Item Unit Price */</span>
        <span class="nx">quantity</span><span class="o">:</span> <span class="nx">line</span><span class="p">.</span><span class="nx">quantity</span><span class="p">,</span> <span class="cm">/* REQUIRED - First Item Quantity */</span>
        <span class="nx">title</span><span class="o">:</span> <span class="nx">line</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="cm">/* Optional - Name of product */</span>
      <span class="p">});</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">_talkable_data</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">purchase</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">order_number</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">order_id</span><span class="p">,</span> <span class="cm">/* REQUIRED - Order number */</span>
        <span class="nx">subtotal</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">total_price</span><span class="p">,</span> <span class="cm">/* REQUIRED - Purchase Subtotal */</span>
        <span class="nx">coupon_code</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">discount</span> <span class="o">?</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">discount</span><span class="p">.</span><span class="nx">code</span> <span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nx">items</span><span class="o">:</span> <span class="nx">_talkable_order_items</span>
      <span class="p">},</span>
      <span class="nx">campaign_tags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;post-purchase&#39;</span><span class="p">],</span>
      <span class="nx">customer</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">email</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="cm">/* REQUIRED - Customer Email Address */</span>
        <span class="nx">first_name</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">billing_address</span> <span class="o">?</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">billing_address</span><span class="p">.</span><span class="nx">first_name</span> <span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="c1">// Optional - Customer first name</span>
        <span class="nx">last_name</span><span class="o">:</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">billing_address</span> <span class="o">?</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">billing_address</span><span class="p">.</span><span class="nx">last_name</span> <span class="o">:</span> <span class="kc">null</span> <span class="c1">// Optional - Customer last name</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">checkout</span><span class="p">.</span><span class="nx">shipping_address</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">shipping_address</span> <span class="o">=</span> <span class="nx">checkout</span><span class="p">.</span><span class="nx">shipping_address</span><span class="p">;</span>
      <span class="nx">shipping_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;address1&#39;</span><span class="p">,</span> <span class="s1">&#39;address2&#39;</span><span class="p">,</span> <span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;province&#39;</span><span class="p">,</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">];</span>
      <span class="nx">address</span> <span class="o">=</span> <span class="p">[];</span>

      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">idx</span> <span class="k">in</span> <span class="nx">shipping_fields</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">address_key</span> <span class="o">=</span> <span class="nx">shipping_fields</span><span class="p">[</span><span class="nx">idx</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">shipping_address</span><span class="p">[</span><span class="nx">address_key</span><span class="p">])</span> <span class="p">{</span>
          <span class="nx">address</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">shipping_address</span><span class="p">[</span><span class="nx">address_key</span><span class="p">]);</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">shipping_address</span><span class="p">.</span><span class="nx">zip</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">_talkable_data</span><span class="p">.</span><span class="nx">purchase</span><span class="p">.</span><span class="nx">shipping_zip</span> <span class="o">=</span> <span class="nx">shipping_address</span><span class="p">.</span><span class="nx">zip</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">address</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">_talkable_data</span><span class="p">.</span><span class="nx">purchase</span><span class="p">.</span><span class="nx">shipping_address</span> <span class="o">=</span> <span class="nx">address</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">_talkableq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_purchase&#39;</span><span class="p">,</span> <span class="nx">_talkable_data</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;//d2jjzw81hqbuqv.cloudfront.net/integration/talkable-3.0.6.min.js&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="c">&lt;!-- End Talkable integration code --&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">Click <strong>Apply these settings</strong>.</p>
</li>
<li><p class="first">Verify your integration using <a class="reference internal" href="../verify.html#ecommerce-verify"><em>Verifying Integration Instructions</em></a>.</p>
</li>
</ol>
<p><br></p>
<h2>Passing traffic_source through the URL</h2><p>When driving traffic to one of your campaigns, you can include a traffic source parameter as a URL query string to help segment your reporting.  This is helpful when you are driving traffic from many different sources to the same campaign.  This makes sense to do for both on-site and off-site call to actions where you want to specifically want to track your traffic source.  For example, if you are driving traffic on-site to your Standalone campaign both from your home page navigation bar and from your footer template, and you wanted to see which one is more high value and driving more traffic to your campaign you could look at the different traffic sources in reporting to clearly see this.</p>
<p>How to use the traffic_source parameter in a call to action:</p>
<p>Say you have a Standalone integration displaying a campaign on www.yoursite.com/share.
You could append the traffic_source parameter on to your footer call to action as seen below:</p>
<p><tt class="docutils literal"><span class="pre">www.yoursite.com/share?traffic_source=footer</span></tt></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  </div> <!-- /.content-container -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63500208-1', 'auto');
    ga('send', 'pageview');
  </script>
  </body>
</html>