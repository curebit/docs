<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Standard Integration &mdash; Curebit Documentation</title>
    
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Curebit Documentation" href="../index.html" />
    <link rel="up" title="Standalone Campaign" href="../standalone.html" />
    <link rel="next" title="Custom Integration" href="custom.html" />
    <link rel="prev" title="Standalone Campaign" href="../standalone.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="../_static/solarized-dark.css" rel="stylesheet">
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="custom.html" title="Custom Integration"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="../standalone.html" title="Standalone Campaign"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Curebit Documentation</a> &raquo;</li>
          <li><a href="../standalone.html" accesskey="U">Standalone Campaign</a> &raquo;</li> 
      </ul>
    </div>
  
  <div class="sphinxsidebar">
    <div class="sphinxsidebarwrapper">
        

      <h3>Table of contents</h3>
      <ul><li class="toctree-l1"><a href="../index.html">Main Page</a></li></ul></ul>
        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ecommerce.html">E-Commerce Integrations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../standalone.html">Standalone Campaign</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Standard Integration</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="custom.html">Custom Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../liquid.html">Liquid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optional.html">Optional Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_hooks.html">Web Hooks</a></li>
</ul>

        <div id="searchbox" style="display: none" role="search">
          <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" />
              <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
        <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
  </div>
  


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="standalone-standard"></span><div class="section" id="standard-integration">
<h1>Standard Integration<a class="headerlink" href="#standard-integration" title="Permalink to this headline">Â¶</a></h1>
<p>In order for a customer to join a Standalone campaign, Curebit will need to know
the user&#8217;s email. There are two ways of doing this.</p>
<h2>Provide the Curebit User's Email Directly</h2><p>In the case that you already have the current user&#8217;s email (e.g. if your site
requires the user to create an account and log in to purchase) you can provide
it to Curebit with some additional info.</p>
<h2>Let Curebit Ask for Email</h2><p>In the case that the user is not yet registered on the merchant&#8217;s site, and
the merchant does not yet know the user&#8217;s email. The Affiliate signup page
will be displayed.</p>
<div class="highlight-html"><div class="highlight"><pre><span class="c">&lt;!-- Begin Curebit integration code --&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="c1">//&lt;![CDATA[</span>
    <span class="kd">var</span> <span class="nx">_curebitq</span> <span class="o">=</span> <span class="nx">_curebitq</span> <span class="o">||</span> <span class="p">[];</span>
    <span class="nx">_curebitq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">site_id</span><span class="o">:</span> <span class="s1">&#39;YOUR-CUREBIT-SITE-ID&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED - Curebit Site ID</span>
      <span class="nx">server</span><span class="o">:</span> <span class="s1">&#39;https://www.curebit.com&#39;</span> <span class="c1">// OPTIONAL - Use your own domain (enterprise only)</span>
    <span class="p">}]);</span>

    <span class="nx">_curebitq</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="s1">&#39;register_affiliate&#39;</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">iframe</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// REQUIRED - html attributes for iframe tag to fit page design</span>
        <span class="nx">width</span><span class="o">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="c1">// REQUIRED - width of the iframe</span>
        <span class="nx">height</span><span class="o">:</span> <span class="mi">480</span><span class="p">,</span> <span class="c1">// REQUIRED - initial height of the iframe. Will be automatically updated if responsive option is set to true.</span>
        <span class="nx">id</span><span class="o">:</span> <span class="s1">&#39;new_curebit_affiliate_member&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - any other HTML attribute</span>
        <span class="nx">frameborder</span><span class="o">:</span> <span class="mi">0</span> <span class="c1">// OPTIONAL - removes border from IE</span>
      <span class="p">},</span>

      <span class="nx">affiliate_member</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// OPTIONAL - curebit will ask person to signup</span>
                          <span class="c1">// in case when his email is not given by merchant</span>
        <span class="nx">email</span><span class="o">:</span> <span class="s1">&#39;customer@example.com&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer email</span>
        <span class="nx">first_name</span><span class="o">:</span> <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer first name</span>
        <span class="nx">last_name</span><span class="o">:</span> <span class="s1">&#39;Smith&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - customer last name</span>
        <span class="nx">customer_id</span><span class="o">:</span> <span class="s1">&#39;&#39;</span> <span class="c1">// OPTIONAL - customer ID from your site</span>
      <span class="p">},</span>
      <span class="nx">responsive</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// OPTIONAL - fit iframe into viewport (also on resize) and allow Curebit display mobile templates</span>
      <span class="nx">device</span><span class="o">:</span> <span class="s1">&#39;desktop&#39;</span><span class="p">,</span> <span class="c1">// OPTIONAL - enforce mobile/tablet/desktop view or skip this to allow Curebit choose corresponding template</span>
      <span class="nx">campaign_tags</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span> <span class="c1">// OPTIONAL - campaign tags for offer targeting</span>
    <span class="p">}]);</span>
  <span class="c1">//]]&gt;</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;//d2jjzw81hqbuqv.cloudfront.net/assets/api/all-0.6.js&quot;</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- End Curebit integration code --&gt;</span>
</pre></div>
</div>
<h2>Using Current Location URL Parameters</h2><p>You are able to pass some parameters to Curebit directly from current URL.</p>
<p>In this case Curebit integration code will automatically catch some of the
current location parameters and pass them to Curebit:</p>
<ul class="simple">
<li>email - will be passed as affiliate email</li>
<li>first_name - will be passed as affiliate first_name</li>
<li>last_name - will be passed as affiliate last_name</li>
<li>customer_id - will be passed as customer_id</li>
<li>campaign_tags - will be passed as campaign tags</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Location parameters have higher priority than explicit parameters passed in
the integration code above.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Don&#8217;t forget to escape them with URI parameter encoder.</p>
</div>
<h3>Example</h3><p>Suppose that you have Curebit integration code on &#8220;<strong>http://your-merchant.com/share</strong>&#8221;.
The following code will register <a class="reference external" href="mailto:person&#37;&#52;&#48;example&#46;com">person<span>&#64;</span>example<span>&#46;</span>com</a> in campaign with tag &#8220;custom&#8221;:</p>
<div class="highlight-url"><div class="highlight"><pre>http://your-merchant.com/share?email=person@example.com&amp;campaign_tags=custom
</pre></div>
</div>
<h2>Optimizing for Viewport</h2><p>Curebit provides flexibility for the merchant to decide how they want to
optimize mobile.</p>
<p>If your site is responsive, all you&#8217;ll want to do is set <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt>.
In your campaign, there are different views for mobile, tablet and desktop.
We&#8217;ll automatically pull the correct theme view based on the user&#8217;s device
once we detect the viewport. We&#8217;ll use our responsive engine to size the
Curebit iframe to the right size. Like Magic! You&#8217;ll also want to comment out
<tt class="docutils literal"><span class="pre">device:</span> <span class="pre">'desktop'</span></tt> line.</p>
<p>If you have separate mobile, tablet and desktop sites (or any combination of
the three), you can leave <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt> on but also specifically set the
campaign theme view to use. This will prevent Curebit from automatically
assigning the theme view to use, but will allow us to resize within the screen
to make sure all elements fit well.</p>
<h2>Setup Your Theme</h2><p>Make sure you have this CSS in your campaign theme so it won&#8217;t have a double
scrollbars on resize (if <tt class="docutils literal"><span class="pre">responsive:</span> <span class="pre">true</span></tt>)</p>
<div class="code css highlight-python"><div class="highlight"><pre>body { overflow: hidden; }
</pre></div>
</div>
<p><a class="reference external" href="http://jsfiddle.net/iurevych/sVtc8/">Demo integration link</a></p>
<div class="hidden container">
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
    </div>
  </body>
</html>